
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>X86 · 探究底层机制：二进制安全</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.7">
        <meta name="author" content="Crifan Li <admin@crifan.com>">
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-menu/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism-atom-dark.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter-nosessionbutcookie/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-callouts/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="arm.html" />
    
    
    <link rel="prev" href="./" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"repo":"explore_underlying_mechanism_binary_security","user":"crifan","type":"star","count":true,"size":"small"},{"user":"crifan","type":"follow","width":"120","count":false,"size":"small"}]};
    </script>

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="http://www.crifan.org" target="_blank" class="custom-link">主页</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                        <b>1.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../bin_security_overview/">
            
                <a href="../../../bin_security_overview/">
            
                    
                        <b>1.2.</b>
                    
                    二进制安全概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.3.</b>
                    
                    基础知识
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.3.1.</b>
                    
                    编程语言
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>1.3.1.1.</b>
                    
                    汇编语言
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1.1.1" data-path="x86.html">
            
                <a href="x86.html">
            
                    
                        <b>1.3.1.1.1.</b>
                    
                    X86
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2" data-path="arm.html">
            
                <a href="arm.html">
            
                    
                        <b>1.3.1.1.2.</b>
                    
                    ARM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../system_arch/">
            
                <a href="../../system_arch/">
            
                    
                        <b>1.3.2.</b>
                    
                    体系架构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../system_arch/register.html">
            
                <a href="../../system_arch/register.html">
            
                    
                        <b>1.3.2.1.</b>
                    
                    寄存器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../../system_arch/x86.html">
            
                <a href="../../system_arch/x86.html">
            
                    
                        <b>1.3.2.1.1.</b>
                    
                    X86
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="../../system_arch/arm.html">
            
                <a href="../../system_arch/arm.html">
            
                    
                        <b>1.3.2.1.2.</b>
                    
                    ARM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../system_arch/heap_stack.html">
            
                <a href="../../system_arch/heap_stack.html">
            
                    
                        <b>1.3.2.2.</b>
                    
                    堆栈
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../executable_file/">
            
                <a href="../../executable_file/">
            
                    
                        <b>1.3.3.</b>
                    
                    可执行文件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../windows/">
            
                <a href="../../../windows/">
            
                    
                        <b>1.4.</b>
                    
                    Windows
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../windows/security_mechanism/">
            
                <a href="../../../windows/security_mechanism/">
            
                    
                        <b>1.4.1.</b>
                    
                    安全机制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../../windows/security_mechanism/cfg.html">
            
                <a href="../../../windows/security_mechanism/cfg.html">
            
                    
                        <b>1.4.1.1.</b>
                    
                    CFG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../../../windows/security_mechanism/dep.html">
            
                <a href="../../../windows/security_mechanism/dep.html">
            
                    
                        <b>1.4.1.2.</b>
                    
                    DEP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../../../windows/security_mechanism/gs.html">
            
                <a href="../../../windows/security_mechanism/gs.html">
            
                    
                        <b>1.4.1.3.</b>
                    
                    GS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../../../windows/security_mechanism/safeseh.html">
            
                <a href="../../../windows/security_mechanism/safeseh.html">
            
                    
                        <b>1.4.1.4.</b>
                    
                    SafeSEH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../../../windows/security_mechanism/sehop.html">
            
                <a href="../../../windows/security_mechanism/sehop.html">
            
                    
                        <b>1.4.1.5.</b>
                    
                    SEHOP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../../windows/attack_tech/">
            
                <a href="../../../windows/attack_tech/">
            
                    
                        <b>1.4.2.</b>
                    
                    攻击技术
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../../windows/attack_tech/buffer_overrun.html">
            
                <a href="../../../windows/attack_tech/buffer_overrun.html">
            
                    
                        <b>1.4.2.1.</b>
                    
                    缓冲区溢出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../../windows/attack_tech/rop.html">
            
                <a href="../../../windows/attack_tech/rop.html">
            
                    
                        <b>1.4.2.2.</b>
                    
                    ROP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../../windows/attack_tech/heap_spray.html">
            
                <a href="../../../windows/attack_tech/heap_spray.html">
            
                    
                        <b>1.4.2.3.</b>
                    
                    Heap Spray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../../windows/attack_tech/shell_code.html">
            
                <a href="../../../windows/attack_tech/shell_code.html">
            
                    
                        <b>1.4.2.4.</b>
                    
                    Shellcode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../../windows/tools/">
            
                <a href="../../../windows/tools/">
            
                    
                        <b>1.4.3.</b>
                    
                    工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../../../windows/tools/executable_tool/disassembler/">
            
                <a href="../../../windows/tools/executable_tool/disassembler/">
            
                    
                        <b>1.4.3.1.</b>
                    
                    反汇编器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1.1" data-path="../../../windows/tools/executable_tool/disassembler/udis86.html">
            
                <a href="../../../windows/tools/executable_tool/disassembler/udis86.html">
            
                    
                        <b>1.4.3.1.1.</b>
                    
                    udis86
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../../../windows/tools/executable_tool/decompiler/">
            
                <a href="../../../windows/tools/executable_tool/decompiler/">
            
                    
                        <b>1.4.3.2.</b>
                    
                    反编译器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.2.1" data-path="../../../windows/tools/executable_tool/decompiler/dnspy.html">
            
                <a href="../../../windows/tools/executable_tool/decompiler/dnspy.html">
            
                    
                        <b>1.4.3.2.1.</b>
                    
                    dnSpy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2.2" data-path="../../../windows/tools/executable_tool/decompiler/ilspy.html">
            
                <a href="../../../windows/tools/executable_tool/decompiler/ilspy.html">
            
                    
                        <b>1.4.3.2.2.</b>
                    
                    ILSpy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../../../windows/tools/static_detect/">
            
                <a href="../../../windows/tools/static_detect/">
            
                    
                        <b>1.4.3.3.</b>
                    
                    静态安全检工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.3.1" data-path="../../../windows/tools/static_detect/winchecksec.html">
            
                <a href="../../../windows/tools/static_detect/winchecksec.html">
            
                    
                        <b>1.4.3.3.1.</b>
                    
                    winchecksec
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../../../windows/tools/executable_tool/">
            
                <a href="../../../windows/tools/executable_tool/">
            
                    
                        <b>1.4.3.4.</b>
                    
                    可执行文件工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.4.1" data-path="../../../windows/tools/executable_tool/exeinfo_pe.html">
            
                <a href="../../../windows/tools/executable_tool/exeinfo_pe.html">
            
                    
                        <b>1.4.3.4.1.</b>
                    
                    ExeInfo PE
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.5" data-path="../../../windows/tools/detect_packer/">
            
                <a href="../../../windows/tools/detect_packer/">
            
                    
                        <b>1.4.3.5.</b>
                    
                    查壳工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.5.1" data-path="../../../windows/tools/detect_packer/detect_it_easy.html">
            
                <a href="../../../windows/tools/detect_packer/detect_it_easy.html">
            
                    
                        <b>1.4.3.5.1.</b>
                    
                    Detect It Easy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.5.2" data-path="../../../windows/tools/detect_packer/peid.html">
            
                <a href="../../../windows/tools/detect_packer/peid.html">
            
                    
                        <b>1.4.3.5.2.</b>
                    
                    PEiD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.6" data-path="../../../windows/tools/reverse_engine/">
            
                <a href="../../../windows/tools/reverse_engine/">
            
                    
                        <b>1.4.3.6.</b>
                    
                    逆向工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.6.1" data-path="../../../windows/tools/reverse_engine/ida.html">
            
                <a href="../../../windows/tools/reverse_engine/ida.html">
            
                    
                        <b>1.4.3.6.1.</b>
                    
                    IDA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.6.2" data-path="../../../windows/tools/reverse_engine/ollydbg.html">
            
                <a href="../../../windows/tools/reverse_engine/ollydbg.html">
            
                    
                        <b>1.4.3.6.2.</b>
                    
                    Ollydbg
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.6.3" data-path="../../../windows/tools/reverse_engine/windbg.html">
            
                <a href="../../../windows/tools/reverse_engine/windbg.html">
            
                    
                        <b>1.4.3.6.3.</b>
                    
                    WinDbg
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.7" data-path="../../../windows/tools/modify_memory/">
            
                <a href="../../../windows/tools/modify_memory/">
            
                    
                        <b>1.4.3.7.</b>
                    
                    内存修改工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.7.1" data-path="../../../windows/tools/modify_memory/ce.html">
            
                <a href="../../../windows/tools/modify_memory/ce.html">
            
                    
                        <b>1.4.3.7.1.</b>
                    
                    CE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.7.2" data-path="../../../windows/tools/modify_memory/mhs.html">
            
                <a href="../../../windows/tools/modify_memory/mhs.html">
            
                    
                        <b>1.4.3.7.2.</b>
                    
                    MHS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.7.3" data-path="../../../windows/tools/modify_memory/modifymemory.html">
            
                <a href="../../../windows/tools/modify_memory/modifymemory.html">
            
                    
                        <b>1.4.3.7.3.</b>
                    
                    ModifyMemory
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3.8" data-path="../../../windows/tools/bin_tool/">
            
                <a href="../../../windows/tools/bin_tool/">
            
                    
                        <b>1.4.3.8.</b>
                    
                    二进制编辑工具
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.8.1" data-path="../../../windows/tools/bin_tool/010editor.html">
            
                <a href="../../../windows/tools/bin_tool/010editor.html">
            
                    
                        <b>1.4.3.8.1.</b>
                    
                    010Editor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../multi_plat/">
            
                <a href="../../../multi_plat/">
            
                    
                        <b>1.5.</b>
                    
                    跨平台
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../multi_plat/security_mechanism/">
            
                <a href="../../../multi_plat/security_mechanism/">
            
                    
                        <b>1.5.1.</b>
                    
                    安全机制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../../multi_plat/security_mechanism/aslr.html">
            
                <a href="../../../multi_plat/security_mechanism/aslr.html">
            
                    
                        <b>1.5.1.1.</b>
                    
                    ASLR
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../../appendix/">
            
                <a href="../../../appendix/">
            
                    
                        <b>1.6.</b>
                    
                    附录
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../../appendix/reference.html">
            
                <a href="../../../appendix/reference.html">
            
                    
                        <b>1.6.1.</b>
                    
                    参考资料
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >X86</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h1 id="x86汇编语言"><a name="x86汇编语言" class="plugin-anchor" href="#x86汇编语言"><i class="fa fa-link" aria-hidden="true"></i></a>X86汇编语言</h1>
<ul>
<li>常见X86汇编语言类型<ul>
<li>ASM</li>
<li>MASM</li>
<li>TASM</li>
<li>OPTASM</li>
<li>等</li>
</ul>
</li>
</ul>
<h2 id="intel-8086的汇编语言指令"><a name="intel-8086的汇编语言指令" class="plugin-anchor" href="#intel-8086的汇编语言指令"><i class="fa fa-link" aria-hidden="true"></i></a>Intel 8086的汇编语言指令</h2>
<ul>
<li>Intel 8086的指令<ul>
<li>概述<ul>
<li>117条基本指令<ul>
<li>6个功能组<ul>
<li>数据传送类指令<ul>
<li>MOV/XCHG，PUSH/POP，LEA</li>
</ul>
</li>
<li>算数运算类指令<ul>
<li>ADD/ADC/INC，SUB/SBB/DEC/CMP/NEG，MUL/IMUL，DIV/IDIV</li>
</ul>
</li>
<li>位操作类指令<ul>
<li>AND/OR/XOR/NOT/TEST</li>
</ul>
</li>
<li>串操作类指令</li>
<li>控制转移类指令<ul>
<li>JMP/JCC/LOOP，CALL/RET，INT n</li>
</ul>
</li>
<li>处理机控制类指令<ul>
<li>NOP</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>其他<ul>
<li>伪指令</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="数据传送类指令"><a name="数据传送类指令" class="plugin-anchor" href="#数据传送类指令"><i class="fa fa-link" aria-hidden="true"></i></a>数据传送类指令</h4>
<ul>
<li>数据传送类指令<ul>
<li>概述：计算机中最基本，最重要的一种操作，传送指令也是最常用的一类指令</li>
<li>作用：传送指令把数据从一个位置传送到另一个位置。</li>
<li>特点：除标志寄存器传送指令外，均不影响标志位</li>
<li>包含：MOV   XCHG   PUSH  POP   LEA<ul>
<li>传送指令MOV<ul>
<li>把一个字节或操作数从源地址传送至目的地址</li>
</ul>
</li>
<li>交换指令XCHG<ul>
<li>把两个地方的数据进行互换<ul>
<li>寄存器与寄存器之间对换数据</li>
<li>寄存器与存储器之间对换数据</li>
<li>不能在存储器与存储器之间对换数据</li>
</ul>
</li>
</ul>
</li>
<li>进栈指令PUSH<ul>
<li>PUSH<ul>
<li>Push r16/m16/seg  操作过程：1. SP&lt;-SP-2  2.SS:[SP]&lt;-r16/m16</li>
</ul>
</li>
<li>POP<ul>
<li>出栈指令，操作与PUSH相反</li>
</ul>
</li>
<li>算数运算类指令<ul>
<li>概述：四则运算计算机经常进行的一种操作</li>
<li>作用：实现二进制（十进制）数据的四则运算</li>
<li>特点：算术运算类指令往往对标志有影响</li>
<li>建议<ul>
<li>掌握 ADD/ADC/INC   ,  SUB/SBB/DEC/NEG/CMP</li>
<li>熟悉 MUL/IMUL   ,  DIV/IDIV</li>
<li>理解 CBW/CWD  ,  DAA/DAS ,  AAA/AAS/AAM/AAD</li>
</ul>
</li>
<li>包含<ul>
<li>加法指令ADD<ul>
<li>功能：ADD指令将源与目的操作数相加，结果送到目的操作数<ul>
<li>ADD指令按状态标志的定义相应设置状态标志</li>
</ul>
</li>
<li>语法：<ul>
<li>ADD reg, imm/reg/mem  reg&lt;-reg+imm/reg/mem</li>
</ul>
</li>
</ul>
</li>
<li>带进位加法指令ADC<ul>
<li>功能：ADC指令将源与目的的操作数相加，在加上进位CF标志，结果送到目的操作数<ul>
<li>ADC指令按状态标志的定义相应设置状态标志</li>
</ul>
</li>
<li>用途：ADC指令主要与ADD配合，实现多精度加法运算</li>
<li>语法<ul>
<li>ADD reg , imm/reg/mem</li>
<li>ADC mem , imm/reg</li>
</ul>
</li>
</ul>
</li>
<li>增量指令INC<ul>
<li>功能：对操作数加1（增量）<ul>
<li>不影响进位CF标志，按定义设置其他状态标志</li>
</ul>
</li>
<li>语法<ul>
<li>INC reg/mem    reg/mem&lt;-reg/mem+1</li>
</ul>
</li>
</ul>
</li>
<li>减法指令SUB<ul>
<li>功能：将目的操作数减去源操作数，结果送到目的操作数<ul>
<li>按照定义相应设置状态标志</li>
</ul>
</li>
<li>语法<ul>
<li>SUB reg , imm/reg/mem    reg&lt;-reg-imm/reg/mem</li>
</ul>
</li>
</ul>
</li>
<li>带借位减法指令SBB<ul>
<li>功能：SBB指令将目的操作数减去源操作数，在减去借位CF（进位），结果送到目的操作数</li>
<li>用途：SBB指令主要与SUB配合，实现多精度减法运算</li>
<li>语法：SBB reg , imm/reg/mem    reg&lt;-reg-imm/reg/mem-CF</li>
</ul>
</li>
<li>减量指令DEC<ul>
<li>功能：DEC指令对操作数减1（减量）</li>
<li>语法：DEC reg/mem    reg/mem&lt;-reg/mem-1</li>
<li>说明：INC指令和DEC指令都是单操作数指令，主要用于对计数器和地址指针的调整</li>
</ul>
</li>
<li>求补指令NEG<ul>
<li>功能：NEG指令对操作数执行求补运算：用0减去操作数，然后结果返回操作数，求补运算也可以表达成，将操作数按位取反后加1<ul>
<li>NEG指令对标志的影响与用0作减法的SUB指令一样</li>
</ul>
</li>
<li>语法：NEG reg/mem     reg/mem&lt;-0-reg/mem</li>
</ul>
</li>
<li>比较指令CMP<ul>
<li>功能：将目的操作数减去源操作数<ul>
<li>按照定义相应设置状态标志</li>
</ul>
</li>
<li>说明：执行的功能与SUB指令类似，但结果不回送目的操作数</li>
<li>语法：CMP reg , imm/reg/mem    reg—imm/reg/mem</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="位操作类指令"><a name="位操作类指令" class="plugin-anchor" href="#位操作类指令"><i class="fa fa-link" aria-hidden="true"></i></a>位操作类指令</h4>
<ul>
<li>位操作类指令<ul>
<li>概述：以二进制为基本单位进行数据的操作。一类常用的指令</li>
<li>包含<ul>
<li>逻辑运算指令<ul>
<li>ADD(与) <ul>
<li>功能：对两个操作数执行逻辑与运算，结果送到目的操作数。</li>
<li>语法：ADD des , src   des&lt;-des^src</li>
</ul>
</li>
<li>OR(或)<ul>
<li>功能：对两个操作数执行逻辑或运算，结果送到目的操作数</li>
<li>语法：OR dest , src    dest&lt;-destv src</li>
</ul>
</li>
<li>XOR(异或) <ul>
<li>功能：对两个操作数执行逻辑异或运算，结果送到目的操作数</li>
<li>语法：XOR dest , src</li>
</ul>
</li>
<li>NOT(非)<ul>
<li>功能：对一个操作数执行逻辑非运算<ul>
<li>按位取反，原来的0的位变1，原来的1的位变0</li>
</ul>
</li>
<li>语法：NOT reg/mem</li>
</ul>
</li>
<li>TEST(测试)</li>
</ul>
</li>
<li>移位指令<ul>
<li>SHL(逻辑左移)</li>
<li>SHR(逻辑右移)</li>
<li>SAL(算术左移)</li>
<li>SAR(算术右移)</li>
</ul>
</li>
<li>循环移位指令<ul>
<li>ROL(左循环移位)</li>
<li>ROR(右循环移位)</li>
<li>RCL(带进位左循环移位)</li>
<li>RCR(带进位右循环移位)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="串操作类指令"><a name="串操作类指令" class="plugin-anchor" href="#串操作类指令"><i class="fa fa-link" aria-hidden="true"></i></a>串操作类指令</h4>
<ul>
<li>串操作类指令</li>
</ul>
<h4 id="控制转移类指令"><a name="控制转移类指令" class="plugin-anchor" href="#控制转移类指令"><i class="fa fa-link" aria-hidden="true"></i></a>控制转移类指令</h4>
<ul>
<li>控制转移类指令<ul>
<li>概述：用于实现分支，循环，过程等程序结构，是仅次于传送指令的常用指令</li>
<li>建议：<ul>
<li>重点掌握：JMP/JCC/LOOP、CALL/RET、INT n/IRET 常用系统功能调用</li>
<li>一般了解：LOOPZ/LOOPNZ  INTO</li>
</ul>
</li>
<li>包含<ul>
<li>无条件转移指令JMP<ul>
<li>语法：JMP label</li>
<li>作用：<ul>
<li>程序转向label标号指定的地址（标号要在程序其他位置标出）</li>
</ul>
</li>
<li>说明：<ul>
<li>只要执行无条件转移指令JMP，不需要任何条件，就使程序转到指定的目的地址处，从目标地址</li>
<li>操作数是要转移到的目标地址开始执行指令</li>
</ul>
</li>
<li>原理<ul>
<li>程序的执行地址，是由段寄存器CS和指令指针IP共同确定的，即当前指令的地址为CS：IP</li>
<li>程序的跳转是通过修改CS和IP的值来实现的</li>
</ul>
</li>
</ul>
</li>
<li>条件转移指令JCC<ul>
<li>语法：Jcc label<ul>
<li>条件满足，发生转移：IP&lt;-IP+8位位移量</li>
<li>条件不满足，顺序执行</li>
</ul>
</li>
<li>说明：<ul>
<li>指定的条件cc如果成立，程序转移到由标号label指定的目标地址去执行指令，条件不成立，则程序将顺序执行下一条指令</li>
<li>操作数label是短转移指令，要跳转的地址必须距当前IP地址-128~+127个单元的范围之内</li>
<li>Jcc指令不影响标志<ul>
<li>但要利用标志<ul>
<li>根据利用的标志位不同，16条指令分为3种情况<ul>
<li>判断单个标志位状态</li>
<li>比较无符号数高低</li>
<li>比较有符号数大小</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>循环指令LOOP<ul>
<li>语法：LOOP label</li>
<li>功能：循环指令是一种特殊的转移指令，当满足某条件时，反复执行一系列操作，知道不满足为止</li>
<li>说明：循环指令利用CX寄存器作为计数器</li>
</ul>
</li>
<li>子程序指令<ul>
<li>语法：<ul>
<li>4种类型<ul>
<li>CALL label； 段内调用，相对寻址。</li>
<li>CALL r16/m16；段内调用，间接寻址</li>
<li>CALL far ptr label；段间调用，直接寻址</li>
<li>CALL far ptr mem；段间调用，间接寻址</li>
</ul>
</li>
</ul>
</li>
<li>原理：<ul>
<li>子程序是完成特定功能的一段程序</li>
<li>当主程序（调用程序）需要执行这个功能时，采用CALL调用指令转移到该子程序的起始处执行</li>
<li>当运行完子程序功能后，采用RET返回指令回到主程序继续执行</li>
</ul>
</li>
<li>说明<ul>
<li>子程序通常是与主程序分开完成特定功能的一段程序，程序中有时要反复的实现相同的功能只不过参数不同而已，把仅参数不同功能重复的程序编写成为子程序，执行这个功能时，就可以调用该子程序，执行完成后在返回主程序。</li>
</ul>
</li>
</ul>
</li>
<li>中断指令<ul>
<li>语法=中断指令：INT<ul>
<li>举例：<ul>
<li>INT i8</li>
</ul>
</li>
<li>特殊：<ul>
<li>IRET：中断返回指令，实现中断返回</li>
<li>INTO：溢出中断指令</li>
</ul>
</li>
</ul>
</li>
<li>作用：中断是一种改变程序执行顺序的方法，在程序运行时，遇到某些需要紧急处理的情况，如停电，数据的实时接收，溢出等，处理器暂停主程序的执行，转去执行中断处理程序。</li>
<li>分类<ul>
<li>内部中断</li>
<li>外部中断</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="处理机控制类指令"><a name="处理机控制类指令" class="plugin-anchor" href="#处理机控制类指令"><i class="fa fa-link" aria-hidden="true"></i></a>处理机控制类指令</h4>
<ul>
<li>处理机控制类指令<ul>
<li>概述：对CPU状态进行控制的指令</li>
<li>包含<ul>
<li>空操作指令NOP<ul>
<li>语法：<ul>
<li>NOP CS：SS：DS：ES</li>
</ul>
</li>
<li>作用：不执行任何操作，但占用一个字节存储单元，空耗一个指令执行周期。</li>
<li>用途<ul>
<li>NOP常用于程序调试<ul>
<li>在需要预留指令空间时用NOP填充</li>
</ul>
</li>
<li>代码空间多余时也可以用NOP填充</li>
<li>还可以用NOP实现软件延时</li>
</ul>
</li>
</ul>
</li>
<li>其他<ul>
<li>LOCK HLT ESC WAIT</li>
</ul>
</li>
</ul>
</li>
<li>说明<ul>
<li>事实上，NOP和XCHG，AX，的指令代码一样都是90H</li>
<li>段超越前缀指令：在允许段超越的存储器操作数之前，使用段超越前缀指令，将采用指定的段寄存器寻址操作数<ul>
<li>CS：使用代码段的数据</li>
<li>SS：使用堆栈段的数据</li>
<li>DS：使用数据段的数据</li>
<li>ES：使用附加段的数据</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="伪指令"><a name="伪指令" class="plugin-anchor" href="#伪指令"><i class="fa fa-link" aria-hidden="true"></i></a>伪指令</h4>
<ul>
<li>伪指令<ul>
<li>概述：<ul>
<li>没有对应的机器码的指令，最终不被CPU所执行</li>
<li>伪指令是由编译器来执行的指令<ul>
<li>编译器根据伪指令来进行相关的编译工作</li>
</ul>
</li>
</ul>
</li>
<li>语法<ul>
<li>segment和ends是一对成对使用的伪指令<ul>
<li>这是在写可被编译器编译的汇编程序时，必须要用到的一对伪指令</li>
</ul>
</li>
<li>segment和ends的功能是定义一个段<ul>
<li>segment说明一个段开始<ul>
<li>语法：段名 segment</li>
</ul>
</li>
<li>ends说明一个段结束<ul>
<li>语法：段名 ends</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>说明<ul>
<li>一个汇编程序是由多个段组成的，这些段被用来存放代码，数据或当作栈空间来使用</li>
<li>一个有意义的汇编程序中至少要有一个段，这个段用来存放代码</li>
</ul>
</li>
<li>注意<ul>
<li>不要搞混end和ends<ul>
<li>end是汇编语言的结束<ul>
<li>一个汇编程序的结束标记，编译器在编译汇编程序的过程中，如果碰到了伪指令end，就结束对源程序的编译</li>
</ul>
</li>
<li>ends是伪指令的结束</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<footer class="page-footer"><span class="copyright">crifan.org，使用<a href="https://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank">署名4.0国际(CC BY 4.0)协议</a>发布 all right reserved，powered by Gitbook</span><span class="footer-modification">最后更新：
2023-09-01 23:08:00
</span></footer></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 汇编语言">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="arm.html" class="navigation navigation-next " aria-label="Next page: ARM">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"X86","level":"1.3.1.1.1","depth":4,"next":{"title":"ARM","level":"1.3.1.1.2","depth":4,"path":"basic_knowledge/language/assembly/arm.md","ref":"basic_knowledge/language/assembly/arm.md","articles":[]},"previous":{"title":"汇编语言","level":"1.3.1.1","depth":3,"path":"basic_knowledge/language/assembly/README.md","ref":"basic_knowledge/language/assembly/README.md","articles":[{"title":"X86","level":"1.3.1.1.1","depth":4,"path":"basic_knowledge/language/assembly/x86.md","ref":"basic_knowledge/language/assembly/x86.md","articles":[]},{"title":"ARM","level":"1.3.1.1.2","depth":4,"path":"basic_knowledge/language/assembly/arm.md","ref":"basic_knowledge/language/assembly/arm.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["theme-comscore","anchors","expandable-menu","-lunr","-search","search-plus","disqus","-highlight","prism","prism-themes","github-buttons","-splitter","splitter-nosessionbutcookie","-sharing","sharing-plus","tbfed-pagefooter","donate","sitemap-general","copy-code-button","callouts","toolbar-button"],"root":"./src","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"crifan.org，使用<a href='https://creativecommons.org/licenses/by/4.0/deed.zh'>署名4.0国际(CC BY 4.0)协议</a>发布","modify_label":"最后更新：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prism-themes/themes/prism-atom-dark.css"]},"disqus":{"useIdentifier":false,"shortName":"crifan"},"callouts":{"showTypeInHeader":false},"toolbar-button":{"label":"下载PDF","url":"https://book.crifan.org/books/explore_underlying_mechanism_binary_security/pdf/explore_underlying_mechanism_binary_security.pdf","icon":"fa-file-pdf-o"},"autocover":{"title":"Gitbook演示"},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"donate":{"title":"","button":"打赏","wechat":"https://www.crifan.org/files/res/crifan_com/crifan_wechat_pay.jpg","alipay":"https://www.crifan.org/files/res/crifan_com/crifan_alipay_pay.jpg","wechatText":"微信打赏给Crifan","alipayText":"支付宝打赏给Crifan"},"sitemap-general":{"prefix":"https://book.crifan.org/books/explore_underlying_mechanism_binary_security/website/"},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-comscore":{},"splitter-nosessionbutcookie":{},"prism-themes":{},"github-buttons":{"buttons":[{"repo":"explore_underlying_mechanism_binary_security","user":"crifan","type":"star","count":true,"size":"small"},{"user":"crifan","type":"follow","width":"120","count":false,"size":"small"}]},"expandable-menu":{},"copy-code-button":{},"sharing":{"qq":true,"all":["douban","facebook","google","instapaper","line","linkedin","messenger","pocket","qq","qzone","stumbleupon","twitter","viber","vk","weibo","whatsapp"],"douban":false,"facebook":true,"weibo":true,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{},"search-plus":{}},"theme":"default","author":"Crifan Li <admin@crifan.com>","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"探究底层机制：二进制安全","language":"zh-hans","links":{"sidebar":{"主页":"http://www.crifan.org"}},"gitbook":"*","description":"整理二进制安全，即PWN；先对二进制安全概述；再介绍相关基础知识，比如编程语言，包括汇编语言X86、ARM等；体系架构的寄存器X86、ARM和堆栈，以及可执行文件；再总结Windows相关的二进制安全，包括安全机制的CFG、DEP、GS、SafeSEH、SEHOP，和攻击技术，包括缓冲区溢出、ROP、Heap spray、Shellcode等；再整理二进制相关工具，包括反编译器的dnSpy、ILSpy，静态安全检工具的winchecksec，可执行文件工具的Exeinfo PE，查壳工具的Detect It Easy、PEiD，逆向工具的IDA、Ollydbg、WinDbg，内存修改工具的CE、MHS、ModifyMemory；以及通用的知识，比如安全机制中的ASLR最后附上参考资料。"},"file":{"path":"basic_knowledge/language/assembly/x86.md","mtime":"2023-09-01T15:08:00.661Z","type":"markdown"},"gitbook":{"version":"4.0.7","time":"2023-09-01T16:09:35.953Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-menu/expandable-chapters.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter-nosessionbutcookie/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-toolbar-button/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>



<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>自动安装app · iOS自动化测试利器：facebook-wda</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Crifan Li <admin@crifan.com>">
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism-atom-dark.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-callouts/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../process_popup.html" />
    
    
    <link rel="prev" href="./" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"repo":"ios_automation_facebook_wda","user":"crifan","type":"star","count":true,"size":"small"},{"user":"crifan","type":"follow","width":"120","count":false,"size":"small"}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="http://www.crifan.com" target="_blank" class="custom-link">主页</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                        <b>1.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../intro/">
            
                <a href="../../../intro/">
            
                    
                        <b>1.2.</b>
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../../setup_environment/">
            
                <a href="../../../setup_environment/">
            
                    
                        <b>1.3.</b>
                    
                    搭建环境
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../../setup_environment/note_common_qa/">
            
                <a href="../../../setup_environment/note_common_qa/">
            
                    
                        <b>1.3.1.</b>
                    
                    常见问题和心得
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../../setup_environment/note_common_qa/xcode_build_webdriveragent_xcodeproj.html">
            
                <a href="../../../setup_environment/note_common_qa/xcode_build_webdriveragent_xcodeproj.html">
            
                    
                        <b>1.3.1.1.</b>
                    
                    XCode编译WebDriverAgent.xcodeproj
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../summary/">
            
                <a href="../../../summary/">
            
                    
                        <b>1.4.</b>
                    
                    开发心得
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../summary/weditor.html">
            
                <a href="../../../summary/weditor.html">
            
                    
                        <b>1.4.1.</b>
                    
                    weditor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../ios_pitfall/">
            
                <a href="../../../ios_pitfall/">
            
                    
                        <b>1.5.</b>
                    
                    iOS的各种坑
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../ios_pitfall/get_source_xml.html">
            
                <a href="../../../ios_pitfall/get_source_xml.html">
            
                    
                        <b>1.5.1.</b>
                    
                    获取源码xml
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.6.</b>
                    
                    常用代码段
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../wda.html">
            
                <a href="../../wda.html">
            
                    
                        <b>1.6.1.</b>
                    
                    wda
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../../crifan_wda.html">
            
                <a href="../../crifan_wda.html">
            
                    
                        <b>1.6.1.1.</b>
                    
                    crifan版wda
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../element_process.html">
            
                <a href="../../element_process.html">
            
                    
                        <b>1.6.2.</b>
                    
                    元素处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../ios_device.html">
            
                <a href="../../ios_device.html">
            
                    
                        <b>1.6.3.</b>
                    
                    iOS设备
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.6.4.</b>
                    
                    app
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="../manage_app.html">
            
                <a href="../manage_app.html">
            
                    
                        <b>1.6.4.1.</b>
                    
                    app管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.2" data-path="../first_run_guide.html">
            
                <a href="../first_run_guide.html">
            
                    
                        <b>1.6.4.2.</b>
                    
                    首次登录引导页
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.3" data-path="../weixin/">
            
                <a href="../weixin/">
            
                    
                        <b>1.6.4.3.</b>
                    
                    微信
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.3.1" data-path="../weixin/safe_mode.html">
            
                <a href="../weixin/safe_mode.html">
            
                    
                        <b>1.6.4.3.1.</b>
                    
                    安全模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.3.2" data-path="../weixin/public_account.html">
            
                <a href="../weixin/public_account.html">
            
                    
                        <b>1.6.4.3.2.</b>
                    
                    微信公众号
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.4.4" data-path="../settings/">
            
                <a href="../settings/">
            
                    
                        <b>1.6.4.4.</b>
                    
                    设置
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.4.1" data-path="../settings/update_wifi_proxy.html">
            
                <a href="../settings/update_wifi_proxy.html">
            
                    
                        <b>1.6.4.4.1.</b>
                    
                    更新WiFi代理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.4.5" data-path="./">
            
                <a href="./">
            
                    
                        <b>1.6.4.5.</b>
                    
                    AppStore
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.4.5.1" data-path="auto_install_app.html">
            
                <a href="auto_install_app.html">
            
                    
                        <b>1.6.4.5.1.</b>
                    
                    自动安装app
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../process_popup.html">
            
                <a href="../../process_popup.html">
            
                    
                        <b>1.6.5.</b>
                    
                    弹框处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../debug_assist.html">
            
                <a href="../../debug_assist.html">
            
                    
                        <b>1.6.6.</b>
                    
                    调试辅助
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../../source_analysis/">
            
                <a href="../../../source_analysis/">
            
                    
                        <b>1.7.</b>
                    
                    源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../../appendix/">
            
                <a href="../../../appendix/">
            
                    
                        <b>1.8.</b>
                    
                    附录
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../../appendix/ios_app_bundle_id.html">
            
                <a href="../../../appendix/ios_app_bundle_id.html">
            
                    
                        <b>1.8.1.</b>
                    
                    iOS内置app的bundle id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../../appendix/doc.html">
            
                <a href="../../../appendix/doc.html">
            
                    
                        <b>1.8.2.</b>
                    
                    文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../../appendix/reference.html">
            
                <a href="../../../appendix/reference.html">
            
                    
                        <b>1.8.3.</b>
                    
                    参考资料
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >自动安装app</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x81EA;&#x52A8;&#x5B89;&#x88C5;app"><a name="&#x81EA;&#x52A8;&#x5B89;&#x88C5;app" class="plugin-anchor" href="#&#x81EA;&#x52A8;&#x5B89;&#x88C5;app"><i class="fa fa-link" aria-hidden="true"></i></a>&#x81EA;&#x52A8;&#x5B89;&#x88C5;app</h1>
<p>&#x6B64;&#x5904;&#x6574;&#x7406;&#x7528;wda&#x901A;&#x8FC7;AppStore&#x81EA;&#x52A8;&#x5B89;&#x88C5;iOS&#x7684;app&#x7684;&#x5B8C;&#x6574;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>-&#x300B;iPhone&#x4E2D;&#x7528;AppStore&#x81EA;&#x52A8;&#x5B89;&#x88C5;iOS&#x7684;app&#x7684;&#x5168;&#x8FC7;&#x7A0B;</p>
<p>&#x8BE6;&#x89C1;&#xFF1A;</p>
<p>&#x3010;&#x5DF2;&#x89E3;&#x51B3;&#x3011;iOS&#x81EA;&#x52A8;&#x6293;&#x5305;app&#xFF1A;iPhone&#x4E2D;&#x901A;&#x8FC7;AppStore&#x81EA;&#x52A8;&#x5B89;&#x88C5;iOS&#x7684;app</p>
<div class="panel panel-info"><div class="panel-heading"><h3 class="panel-title" id="-&#x516C;&#x5171;&#x51FD;&#x6570;"><i class="fa fa-info"></i>  &#x516C;&#x5171;&#x51FD;&#x6570;</h3></div><div class="panel-body"><p>&#x4E0B;&#x9762;&#x51FD;&#x6570;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x516C;&#x5171;&#x51FD;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p><ul>
<li><code>get_cmd_lines</code></li>
<li><code>multipleRetry</code></li>
<li><code>findElement</code></li>
<li><code>findAndClickElement</code></li>
</ul><p>&#x8BE6;&#x89C1;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#xFF1A;</p><ul>
<li><a href="https://book.crifan.com/books/ios_automation_facebook_wda/website/common_code" target="_blank">&#x5E38;&#x7528;&#x4EE3;&#x7801;&#x6BB5;</a></li>
<li><a href="https://book.crifan.com/books/ios_automation_facebook_wda/website/common_code/element_process.html#findandclickbuttonelementbysoup" target="_blank">&#x5143;&#x7D20;&#x5904;&#x7406;</a></li>
</ul></div></div>
<h2 id="&#x8FC7;&#x7A0B;"><a name="&#x8FC7;&#x7A0B;" class="plugin-anchor" href="#&#x8FC7;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8FC7;&#x7A0B;</h2>
<p>&#x5BF9;&#x5E94;&#x7740;&#x7684;&#x754C;&#x9762;&#x5206;&#x522B;&#x662F;&#xFF1A;</p>
<p>&#x542F;&#x52A8;AppStore&#x540E;&#x7684;&#xFF0C;&#x672C;&#x8EAB;&#x9ED8;&#x8BA4;&#x8FDB;&#x5165;&#x4E86;Search&#x7684;tab&#x9875;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_tab_search.jpg" alt="appstore_tab_search"></p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x4EE3;&#x7801;&#x4E2D;&#x9632;&#x6B62;&#x4E0D;&#x662F;&#x9ED8;&#x8BA4;&#x641C;&#x7D22;Tab&#xFF0C;&#x4E5F;&#x7528;&#x4EE3;&#x7801;&#x53BB;&#x5207;&#x6362;&#x5230;&#x6B64;tab&#x9875;&#x4E86;&#x3002;</p>
<p>&#x7136;&#x540E;&#x518D;&#x53BB;&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x6846;&#xFF0C;&#x8F93;&#x5165;&#x8981;&#x641C;&#x7D22;&#x7684;app&#x540D;&#x5B57;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_search_jd.jpg" alt="appstore_search_jd"></p>
<p>&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x540E;&#xFF0C;&#x8FDB;&#x5165;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x9875;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_search_result_list_jd.jpg" alt="appstore_search_result_list_jd"></p>
<p>&#x7136;&#x540E;&#x627E;&#x5230;&#x5217;&#x8868;&#x9875;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x7684;&#x540E;&#xFF0C;&#x70B9;&#x51FB;&#x8FDB;&#x5165; app&#x4E0B;&#x8F7D;&#x8BE6;&#x60C5;&#x9875;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_jd_detail_info.jpg" alt="appstore_jd_detail_info"></p>
<p>&#x6CE8;&#x610F;&#xFF1A;</p>
<p>&#x6B64;&#x5904;&#x7684;&#x56FE;&#x6807;&#x662F; &#x4E91;&#x6735;&#x2601;&#xFE0F;&#x4E2D;&#x95F4;&#x6709;&#x4E2A;&#x1F53D;&#x5411;&#x4E0B;&#x7684;&#x7BAD;&#x5934; &#x8868;&#x793A; <strong>&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;</strong></p>
<p>&#x610F;&#x5473;&#x7740;&#x4F60;&#x7684;apple&#x8D26;&#x53F7;&#x6240;&#x767B;&#x5F55;&#x8FC7;&#x7684;iPhone&#x4E2D;&#x4E4B;&#x524D;&#x522B;&#x5904;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x8FC7;&#x8BE5;app&#x4E86;</p>
<p>&#x5982;&#x679C;&#x662F;&#x5168;&#x65B0;&#x7684;&#x6CA1;&#x6709;&#x4E0B;&#x8F7D;&#x8FC7;&#x7684;app&#xFF0C;&#x5219;&#x524D;&#x9762;&#x6309;&#x94AE;&#x663E;&#x793A;&#x7684;&#x662F;<strong>&#x83B7;&#x53D6;</strong></p>
<p><img src="../../../assets/img/appstore_dingding_detail_fetch.jpg" alt="appstore_dingding_detail_fetch"></p>
<p>&#x53E6;&#x5916;&#xFF1A;</p>
<p>&#x5982;&#x679C;&#x662F;&#x4ED8;&#x8D39;&#x7684;app&#xFF0C;&#x5219;&#x663E;&#x793A;&#x7684;&#x662F;&#x91D1;&#x989D;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_input_app_with_money_rmb.jpg" alt="appstore_input_app_with_money_rmb"></p>
<p>&#x5BF9;&#x6B64;&#xFF1A;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x68C0;&#x6D4B;&#x5230;&#x662F;&#x4ED8;&#x8D39;&#x540E;&#xFF0C;&#x63D0;&#x793A; &#x4E0D;&#x652F;&#x6301;&#x3002;</p>
<p>&#x9664;&#x975E;&#x771F;&#x7684;&#x6253;&#x7B97;&#x4ED8;&#x8D39;&#xFF0C;&#x5426;&#x5219;&#x70B9;&#x51FB;&#x540E;&#xFF0C;&#x5F39;&#x6846;&#x8D2D;&#x4E70;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_popup_window_buy.jpg" alt="appstore_popup_window_buy"></p>
<p>&#x70B9;&#x51FB;&#x8D2D;&#x4E70;&#x540E;&#xFF0C;&#x4F1A;&#x771F;&#x7684;&#x6263;&#x8D39;&#x7684;&#x3002;</p>
<p>&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;&#x6309;&#x94AE;&#x540E;&#xFF1A;</p>
<p>&#x60C5;&#x51B5;1&#xFF1A;&#x5BF9;&#x4E8E; &#xFF08;&#x4E4B;&#x524D;&#x5DF2;&#x4E0B;&#x8F7D;&#x8FC7;&#x7684;app&#xFF09;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#xFF0C;&#x5219;&#x65E0;&#x5F39;&#x6846;</p>
<p>&#x5F80;&#x5F80;&#x4F1A;&#x51FA;&#x73B0;&#x52A0;&#x8F7D;&#x4E2D;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_jd_is_loading.jpg" alt="appstore_jd_is_loading"></p>
<p>&#x60C5;&#x51B5;2&#xFF1A;&#x5BF9;&#x4E8E; &#xFF08;&#x5168;&#x65B0;app&#xFF09;&#x83B7;&#x53D6;&#xFF0C;&#x4F1A;&#x5F39;&#x6846; &#x5B89;&#x88C5;</p>
<p>&#xFF08;&#x501F;&#x7528;&#x522B;&#x7684;app&#x7684;&#x5F39;&#x6846; &#x5C55;&#x793A;&#xFF09;</p>
<p><img src="../../../assets/img/appstore_popup_window_taobao_buy.jpg" alt="appstore_popup_window_taobao_buy"></p>
<p><img src="../../../assets/img/appstore_popup_buy_qq_music.png" alt="appstore_popup_buy_qq_music"></p>
<p>&#x70B9;&#x51FB;&#x5B89;&#x88C5;&#xFF0C;&#x5F39;&#x6846;&#x4F1A;&#x63D0;&#x793A; &#x5B8C;&#x6210;&#xFF1A;</p>
<p>&#xFF08;&#x5176;&#x4ED6;app&#x7684;&#x622A;&#x56FE;&#xFF09;</p>
<p><img src="../../../assets/img/appstore_popup_notice_complete.png" alt="appstore_popup_notice_complete"></p>
<p>&#x4E4B;&#x540E;&#x5C31;&#x662F;&#x4E0B;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E86;&#xFF1A;</p>
<p>&#x6B63;&#x5728;&#x4E0B;&#x8F7D; &#x5176;&#x4E2D;&#x5706;&#x5708;&#x2B55;&#xFE0F;&#x4F1A;&#x6709;&#x4E2A;&#x84DD;&#x8272;&#x8FDB;&#x5EA6;&#x6761;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_jd_is_downloading.jpg" alt="appstore_jd_is_downloading"></p>
<p>&#x89E3;&#x91CA;&#xFF1A;</p>
<p>&#x6B64;&#x5904;&#x901A;&#x8FC7;&#x8C03;&#x8BD5;log&#x65E5;&#x5FD7;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>200608 14:22:43<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:44<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 1.57 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:45<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 0%
<span class="token punctuation">[</span>200608 14:22:45<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:45<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.73 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:45<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 1%
<span class="token punctuation">[</span>200608 14:22:45<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:46<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.74 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:46<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 4%
<span class="token punctuation">[</span>200608 14:22:46<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:47<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.85 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:47<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 7%
<span class="token punctuation">[</span>200608 14:22:47<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.80 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 9%
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.76 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 10%
<span class="token punctuation">[</span>200608 14:22:48<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:49<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.78 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:22:49<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 14%
&#x3002;&#x3002;&#x3002;
<span class="token punctuation">[</span>200608 14:23:08<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 60%
<span class="token punctuation">[</span>200608 14:23:08<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1645<span class="token punctuation">]</span> start get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:23:09<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 1658<span class="token punctuation">]</span> Cost 0.70 seconds to get iOS page <span class="token function">source</span>
<span class="token punctuation">[</span>200608 14:23:09<span class="token punctuation">]</span><span class="token punctuation">[</span>DevicesMethods.py 2238<span class="token punctuation">]</span> Downloading &#x4EAC;&#x4E1C; progress: 76%
</code></pre>
<p>&#x591A;&#x6B21;&#x8C03;&#x8BD5;&#x53D1;&#x73B0;&#xFF1A;</p>
<p>&#x5728;&#x4E0B;&#x8F7D;&#x7684;&#x8FDB;&#x5EA6;&#x8D85;&#x8FC7;76%&#x4E4B;&#x540E;&#xFF0C;&#x611F;&#x89C9;&#x5185;&#x90E8;&#x5C31;&#x8FDB;&#x5165;&#x4E86; &#x81EA;&#x52A8;&#x5B89;&#x88C5; &#x8FC7;&#x7A0B;</p>
<p>&#x7B49;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8FDB;&#x5EA6;&#x7ACB;&#x523B;&#x5C31;&#x662F;100%&#xFF0C;&#x6309;&#x94AE;&#x53D8;&#x6210; &#x540E;&#x7EED;&#x7684; &#x6253;&#x5F00;&#xFF0C;&#x8868;&#x793A;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x4E86;</p>
<p>-&#x300B;&#x5373;&#xFF0C;&#x63A8;&#x65AD;&#x662F;&#x6574;&#x4F53;&#x8FDB;&#x5EA6;&#xFF1A;</p>
<ul>
<li>0~76%&#xFF1A;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;</li>
<li>76%&#x4E4B;&#x540E;&#xFF1A;&#x5B89;&#x88C5;&#x8FDB;&#x5EA6;<ul>
<li>&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#xFF0C;&#x4F1A;&#x4ECE;76%&#x76F4;&#x63A5;&#x8DF3;&#x5230; &#x6253;&#x5F00;<ul>
<li>&#x8868;&#x793A;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&#x6700;&#x7EC8;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x663E;&#x793A;<code>&#x6253;&#x5F00;</code>&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_jd_download_done_open.jpg" alt="appstore_jd_download_done_open"></p>
<p>&#x5982;&#x679C;&#x70B9;&#x51FB;&#x6253;&#x5F00;&#xFF0C;&#x5373;&#x53EF;&#x542F;&#x52A8;app&#x3002;</p>
<p>&#x6700;&#x540E;&#x9644;&#x4E0A;&#xFF0C;&#x90E8;&#x5206;&#x6D4B;&#x8BD5;&#x540E;&#x7684;iOS&#x7684;app&#x5B89;&#x88C5;&#x540E;&#x684C;&#x9762;&#x56FE;&#x6807;&#xFF1A;</p>
<p><img src="../../../assets/img/appstore_installed_multiple_app.png" alt="appstore_installed_multiple_app"></p>
<p>&#x8BE6;&#x89C1;&#xFF1A;</p>
<p>&#x3010;&#x5DF2;&#x89E3;&#x51B3;&#x3011;iOS&#x81EA;&#x52A8;&#x5316;&#xFF1A;&#x901A;&#x8FC7;AppStore&#x81EA;&#x52A8;&#x4E0B;&#x8F7D;&#x548C;&#x5B89;&#x88C5;iOS&#x7684;app&#x4EAC;&#x4E1C;</p>
<h2 id="&#x4EE3;&#x7801;"><a name="&#x4EE3;&#x7801;" class="plugin-anchor" href="#&#x4EE3;&#x7801;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4EE3;&#x7801;</h2>
<h3 id="installappios-&#x5B89;&#x88C5;ios&#x7684;app"><a name="installappios-&#x5B89;&#x88C5;ios&#x7684;app" class="plugin-anchor" href="#installappios-&#x5B89;&#x88C5;ios&#x7684;app"><i class="fa fa-link" aria-hidden="true"></i></a>install_app_iOS &#x5B89;&#x88C5;iOS&#x7684;app</h3>
<p>&#x6587;&#x4EF6;&#xFF1A;<code>src/common/DevicesMethods.py</code></p>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">install_app_iOS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> packages<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;install iOS app
        if install ok, update bundleId for input item
        not install if found already installed
    &quot;&quot;&quot;</span>
    isInstallOk <span class="token operator">=</span> <span class="token boolean">False</span>
    appInfo <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token comment"># {&apos;account&apos;: &apos;bb62512466_&#x7C73;&#x5BB6;&apos;, &apos;bundleId&apos;: &apos;com.xiaomi.mihome&apos;, &apos;name&apos;: &apos;&#x7C73;&#x5BB6;&apos;, &apos;version&apos;: &apos;4.30.2.0&apos;}</span>
    appName <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span>

    <span class="token comment"># for debug</span>
    <span class="token comment"># appName = &quot;&#x4EAC;&#x4E1C;&quot;</span>
    <span class="token comment"># appName = &quot;&#x6591;&#x9A6C;AI&#x8BFE;&quot;</span>

    <span class="token comment"># check if already installed</span>
    appInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>getInstalledAppInfo<span class="token punctuation">(</span>appName<span class="token operator">=</span>appName<span class="token punctuation">)</span>
    <span class="token keyword">if</span> appInfo<span class="token punctuation">:</span>
        isInstallOk <span class="token operator">=</span> <span class="token boolean">True</span>
        logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">&quot;Not install %s for already installed %s&quot;</span><span class="token punctuation">,</span> appName<span class="token punctuation">,</span> appInfo<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment"># auto install app from AppStore</span>
        isInstallOk<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>iOSinstallAppFromAppStore<span class="token punctuation">(</span>appName<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;appName=%s -&gt; isInstallOk=%s, respInfo=%s&quot;</span><span class="token punctuation">,</span> appName<span class="token punctuation">,</span> isInstallOk<span class="token punctuation">,</span> appInfo<span class="token punctuation">)</span>
        <span class="token comment"># {&apos;bundleId&apos;: &apos;com.fenbi.ape.zebstrika&apos;, &apos;name&apos;: &apos;&#x6591;&#x9A6C;AI&#x8BFE;&apos;, &apos;version&apos;: &apos;221&apos;}</span>
        <span class="token keyword">if</span> isInstallOk<span class="token punctuation">:</span>
            appInfo <span class="token operator">=</span> respInfo
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            errMsg <span class="token operator">=</span> respInfo
            logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&quot;Fail to auto install iOS app %s, reason: %s&quot;</span><span class="token punctuation">,</span> appName<span class="token punctuation">,</span> errMsg<span class="token punctuation">)</span>

    <span class="token keyword">if</span> appInfo<span class="token punctuation">:</span>
        <span class="token comment"># update bundle id</span>
        installedBundleId <span class="token operator">=</span> appInfo<span class="token punctuation">[</span><span class="token string">&quot;bundleId&quot;</span><span class="token punctuation">]</span> <span class="token comment"># &apos;com.360buy.jdmobile&apos;, &apos;com.fenbi.ape.zebstrika&apos;</span>
        item<span class="token punctuation">[</span><span class="token string">&quot;bundleId&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> installedBundleId
    <span class="token keyword">return</span> isInstallOk
</code></pre>
<h3 id="iosinstallappfromappstore-&#x4ECE;appstore&#x4E2D;&#x81EA;&#x52A8;&#x5B89;&#x88C5;ios&#x7684;app"><a name="iosinstallappfromappstore-&#x4ECE;appstore&#x4E2D;&#x81EA;&#x52A8;&#x5B89;&#x88C5;ios&#x7684;app" class="plugin-anchor" href="#iosinstallappfromappstore-&#x4ECE;appstore&#x4E2D;&#x81EA;&#x52A8;&#x5B89;&#x88C5;ios&#x7684;app"><i class="fa fa-link" aria-hidden="true"></i></a>iOSinstallAppFromAppStore &#x4ECE;AppStore&#x4E2D;&#x81EA;&#x52A8;&#x5B89;&#x88C5;iOS&#x7684;app</h3>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">iOSinstallAppFromAppStore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> appName<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Install iOS app from AppStore

    Args:
        appName (str): app name
    Returns:
        bool, dict/str
            bool: installed ok or not
                if true:
                    dict: installed app info
                if false:
                    str: fail reason error message
    Raises:
    &quot;&quot;&quot;</span>
    isInstallOk <span class="token operator">=</span> <span class="token boolean">False</span>
    respInfo <span class="token operator">=</span> <span class="token boolean">None</span>

    iOS_AppId_AppStore <span class="token operator">=</span> <span class="token string">&quot;com.apple.AppStore&quot;</span>
    appStoreSession <span class="token operator">=</span> self<span class="token punctuation">.</span>wdaClient<span class="token punctuation">.</span>session<span class="token punctuation">(</span>iOS_AppId_AppStore<span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;appStoreSession=%s&quot;</span> <span class="token operator">%</span> appStoreSession<span class="token punctuation">)</span>

    isSwitchOk <span class="token operator">=</span> CommonUtils<span class="token punctuation">.</span>multipleRetry<span class="token punctuation">(</span>
        <span class="token punctuation">{</span><span class="token string">&quot;functionCallback&quot;</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>switchToAppStoreSearchTab<span class="token punctuation">}</span><span class="token punctuation">,</span>
        maxRetryNum <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
        sleepInterval <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> isSwitchOk<span class="token punctuation">:</span>
        respInfo <span class="token operator">=</span> <span class="token string">&quot;Fail to switch to Search tab of AppStore&quot;</span>
        <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo

    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;116&quot; width=&quot;414&quot; height=&quot;52&quot;&gt;
            &lt;XCUIElementTypeSearchField type=&quot;XCUIElementTypeSearchField&quot; name=&quot;App Store&quot; label=&quot;App Store&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;117&quot; width=&quot;374&quot; height=&quot;36&quot;/&gt;
        &lt;/XCUIElementTypeOther&gt;
    &quot;&quot;&quot;</span>
    searchInputQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeSearchField&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;App Store&quot;</span><span class="token punctuation">}</span>
    isInputOk <span class="token operator">=</span> CommonUtils<span class="token punctuation">.</span>multipleRetry<span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;functionCallback&quot;</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>wait_element_setText<span class="token punctuation">,</span>
            <span class="token string">&quot;functionParaDict&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;locator&quot;</span><span class="token punctuation">:</span> searchInputQuery<span class="token punctuation">,</span>
                <span class="token string">&quot;text&quot;</span><span class="token punctuation">:</span> appName<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> isInputOk<span class="token punctuation">:</span>
        respInfo <span class="token operator">=</span> <span class="token string">&quot;Fail to input app name %s into search field&quot;</span> <span class="token operator">%</span> appName
        <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo

    isSearchOk <span class="token operator">=</span> self<span class="token punctuation">.</span>search_iOS<span class="token punctuation">(</span>wait<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> isSearchOk<span class="token punctuation">:</span>
        respInfo <span class="token operator">=</span> <span class="token string">&quot;Fail to find and click Search button to trigger search for %s&quot;</span> <span class="token operator">%</span> appName
        <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo

    <span class="token comment"># Special: try add some wait time to avoid some special case:</span>
    <span class="token comment"># for &#x4E2A;&#x4EBA;&#x6240;&#x5F97;&#x7A0E; search result page, found and click &#x4E2A;&#x4EBA;&#x6240;&#x5F97;&#x7A0E;, but sometime actually not into detail page</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    isIntoDetailOk <span class="token operator">=</span> CommonUtils<span class="token punctuation">.</span>multipleRetry<span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;functionCallback&quot;</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>appStoreSearchResultIntoDetail<span class="token punctuation">,</span>
            <span class="token string">&quot;functionParaDict&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;appName&quot;</span><span class="token punctuation">:</span> appName<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        maxRetryNum <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
        sleepInterval <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> isIntoDetailOk<span class="token punctuation">:</span>
        respInfo <span class="token operator">=</span> <span class="token string">&quot;Fail to into app detail page for %s&quot;</span> <span class="token operator">%</span> appName
        <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo
    <span class="token comment"># Special: try add some wait time to avoid some special case:</span>
    <span class="token comment"># for &#x4E2A;&#x4EBA;&#x6240;&#x5F97;&#x7A0E; search result page, found and click &#x4E2A;&#x4EBA;&#x6240;&#x5F97;&#x7A0E;, but sometime actually not into detail page</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>

    detectRoundNum <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        detectRoundNum <span class="token operator">+=</span> <span class="token number">1</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;%s try auto install, round [%d] %s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">,</span> detectRoundNum<span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">)</span>

        <span class="token comment"># foundOpen = False</span>
        <span class="token comment"># isDownloading = False</span>
        <span class="token comment"># isLoading = False</span>
        <span class="token comment"># foundAndClickedPopupInstall = False</span>
        <span class="token comment"># foundAndClickedDownload = False</span>

        <span class="token comment"># isDownloading, curProgress = self.appStoreDownloadingProgress()</span>
        <span class="token comment"># logging.info(&quot;isDownloading=%s, curProgress=%s&quot;, isDownloading, curProgress)</span>
        isDownloading <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreDownloading<span class="token punctuation">(</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;isDownloading=%s&quot;</span><span class="token punctuation">,</span> isDownloading<span class="token punctuation">)</span>
        <span class="token keyword">if</span> isDownloading<span class="token punctuation">:</span>
            <span class="token comment"># downloadingWaitTime = 0.5</span>
            downloadingWaitTime <span class="token operator">=</span> <span class="token number">1.0</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>downloadingWaitTime<span class="token punctuation">)</span>
            logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Is downloading, wait %s seconds&quot;</span><span class="token punctuation">,</span> downloadingWaitTime<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>

        foundOpen <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreCheckOpen<span class="token punctuation">(</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;foundOpen=%s&quot;</span><span class="token punctuation">,</span> foundOpen<span class="token punctuation">)</span>
        <span class="token keyword">if</span> foundOpen<span class="token punctuation">:</span>
            logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Found &#x6253;&#x5F00; -&gt; means %s is installed&quot;</span><span class="token punctuation">,</span> appName<span class="token punctuation">)</span>
            <span class="token keyword">break</span>

        isLoading <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreLoading<span class="token punctuation">(</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;isLoading=%s&quot;</span><span class="token punctuation">,</span> isLoading<span class="token punctuation">)</span>
        <span class="token keyword">if</span> isLoading<span class="token punctuation">:</span>
            <span class="token comment"># loadingWaitTime = 0.2</span>
            loadingWaitTime <span class="token operator">=</span> <span class="token number">0.5</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>loadingWaitTime<span class="token punctuation">)</span>
            logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Is loading, wait %s seconds&quot;</span><span class="token punctuation">,</span> loadingWaitTime<span class="token punctuation">)</span>
            <span class="token keyword">continue</span>

        foundAndClickedDownload<span class="token punctuation">,</span> downloadButtonName <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreStartDownload<span class="token punctuation">(</span>isShowErrWhenNotFound<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;foundAndClickedDownload=%s, downloadButtonName=%s&quot;</span><span class="token punctuation">,</span> foundAndClickedDownload<span class="token punctuation">,</span> downloadButtonName<span class="token punctuation">)</span>
        <span class="token keyword">if</span> foundAndClickedDownload<span class="token punctuation">:</span>
            logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Found and clicked button %s to start download&quot;</span><span class="token punctuation">,</span> downloadButtonName<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            foundMoneyButton<span class="token punctuation">,</span> moneyButtonName <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreBuyAppMoneyButton<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> foundMoneyButton<span class="token punctuation">:</span>
                respInfo <span class="token operator">=</span> <span class="token string">&quot;Not support auto install %s for need pay money %s&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>appName<span class="token punctuation">,</span> moneyButtonName<span class="token punctuation">)</span>
                <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo

        foundAndClickedPopupInstall <span class="token operator">=</span> self<span class="token punctuation">.</span>appStoreClickPopupInstall<span class="token punctuation">(</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;foundAndClickedPopupInstall=%s&quot;</span><span class="token punctuation">,</span> foundAndClickedPopupInstall<span class="token punctuation">)</span>
        <span class="token keyword">if</span> foundAndClickedPopupInstall<span class="token punctuation">:</span>
            popupInstallWaitTime <span class="token operator">=</span> <span class="token number">0.2</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>popupInstallWaitTime<span class="token punctuation">)</span>
            logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;After click &#x5B89;&#x88C5; of popup, wait %s seconds&quot;</span><span class="token punctuation">,</span> popupInstallWaitTime<span class="token punctuation">)</span>

    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;Install complete for %s&quot;</span><span class="token punctuation">,</span> appName<span class="token punctuation">)</span>
    installedAppInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>getInstalledAppInfo<span class="token punctuation">(</span>appName<span class="token operator">=</span>appName<span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;installedAppInfo=%s&quot;</span><span class="token punctuation">,</span> installedAppInfo<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> installedAppInfo<span class="token punctuation">:</span>
        respInfo <span class="token operator">=</span> <span class="token string">&quot;Fail to extract installed app info for %s&quot;</span> <span class="token operator">%</span> appName
        <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo

    isInstallOk <span class="token operator">=</span> <span class="token boolean">True</span>
    respInfo <span class="token operator">=</span> installedAppInfo
    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;isInstallOk=%s, respInfo=%s&quot;</span><span class="token punctuation">,</span> isInstallOk<span class="token punctuation">,</span> respInfo<span class="token punctuation">)</span>
    <span class="token keyword">return</span> isInstallOk<span class="token punctuation">,</span> respInfo
</code></pre>
<p>&#x5176;&#x4ED6;&#x76F8;&#x5173;&#x51FD;&#x6570;&#xFF1A;</p>
<h3 id="getinstalledappinfo-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;&#x7684;app&#x7684;&#x4FE1;&#x606F;"><a name="getinstalledappinfo-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;&#x7684;app&#x7684;&#x4FE1;&#x606F;" class="plugin-anchor" href="#getinstalledappinfo-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;&#x7684;app&#x7684;&#x4FE1;&#x606F;"><i class="fa fa-link" aria-hidden="true"></i></a>getInstalledAppInfo &#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;&#x7684;app&#x7684;&#x4FE1;&#x606F;</h3>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">getInstalledAppInfo</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> appName<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> appBundleId<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;find app info from app name or app bundle id

    Args:
        appName (str): iOS app name
        appBundleId (str): iOS app bundle id
    Returns:
        dict: 
            app info
                eg: {&apos;bundleId&apos;: &apos;com.360buy.jdmobile&apos;, &apos;name&apos;: &apos;&#x4EAC;&#x4E1C;&apos;, &apos;version&apos;: &apos;9.0.0&apos;}
            None if not found
    Raises:
    &quot;&quot;&quot;</span>
    appInfo <span class="token operator">=</span> <span class="token boolean">None</span>
    installedAppList <span class="token operator">=</span> self<span class="token punctuation">.</span>get_iOS_installedAppList<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> eachAppInfo <span class="token keyword">in</span> installedAppList<span class="token punctuation">:</span>
        eachAppName <span class="token operator">=</span> eachAppInfo<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span>
        eachAppBundleId <span class="token operator">=</span> eachAppInfo<span class="token punctuation">[</span><span class="token string">&quot;bundleId&quot;</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> appName<span class="token punctuation">:</span>
            <span class="token keyword">if</span> eachAppName <span class="token operator">==</span> appName<span class="token punctuation">:</span>
                appInfo <span class="token operator">=</span> eachAppInfo
                <span class="token keyword">break</span>

        <span class="token keyword">if</span> appBundleId<span class="token punctuation">:</span>
            <span class="token keyword">if</span> eachAppBundleId <span class="token operator">==</span> appBundleId<span class="token punctuation">:</span>
                appInfo <span class="token operator">=</span> eachAppInfo
                <span class="token keyword">break</span>

    <span class="token keyword">return</span> appInfo
</code></pre>
<h3 id="getiosinstalledapplist-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;app&#x7684;&#x5217;&#x8868;&#x4FE1;&#x606F;"><a name="getiosinstalledapplist-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;app&#x7684;&#x5217;&#x8868;&#x4FE1;&#x606F;" class="plugin-anchor" href="#getiosinstalledapplist-&#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;app&#x7684;&#x5217;&#x8868;&#x4FE1;&#x606F;"><i class="fa fa-link" aria-hidden="true"></i></a>get_iOS_installedAppList &#x83B7;&#x53D6;&#x5DF2;&#x5B89;&#x88C5;app&#x7684;&#x5217;&#x8868;&#x4FE1;&#x606F;</h3>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">get_iOS_installedAppList</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    installedAppList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    listAppCmd <span class="token operator">=</span> <span class="token string">&apos;ideviceinstaller -l&apos;</span>
    appListStr <span class="token operator">=</span> CommonUtils<span class="token punctuation">.</span>get_cmd_lines<span class="token punctuation">(</span>listAppCmd<span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;appListStr=%s&quot;</span><span class="token punctuation">,</span> appListStr<span class="token punctuation">)</span>
    <span class="token keyword">if</span> appListStr<span class="token punctuation">:</span>
        appRawList <span class="token operator">=</span> appListStr<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
            Total: 9 apps
            com.dianping.dpscope - &#x5927;&#x4F17;&#x70B9;&#x8BC4; 10.27.10.21
            com.tencent.xin - &#x5FAE;&#x4FE1; 7.0.12.33
            com.tencent.tiantianptu - &#x5929;&#x5929;P&#x56FE; 603040
            com.didapinche.taxi - &#x5600;&#x55D2;&#x51FA;&#x884C; 3
            com.luojilab.LuoJiFM-IOS - &#x5F97;&#x5230; 7.10.361
            com.suiyi.foodshop1 - &#x98DF;&#x884C;&#x751F;&#x9C9C; 49267
            com.alipay.iphoneclient - &#x652F;&#x4ED8;&#x5B9D; 10.1.90.8000
            com.crifan.WebDriverAgentRunner.xctrunner - WebDriverAgentRunner-Runner 1
            com.xiaojukeji.didi - &#x6EF4;&#x6EF4;&#x51FA;&#x884C; 5.4.10.904142127
        &quot;&quot;&quot;</span>
        <span class="token keyword">for</span> eachAppStr <span class="token keyword">in</span> appRawList<span class="token punctuation">:</span>
            eachAppStr <span class="token operator">=</span> eachAppStr<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token comment"># foundApp = re.search(&quot;(?P&lt;bundleId&gt;com\.\S+)\s+-\s+(?P&lt;name&gt;\S+)\s+(?P&lt;version&gt;[\d\.]+)&quot;, eachAppStr)</span>
            <span class="token comment"># rn.notes.best - &#x7231;&#x601D;&#x6781;&#x901F;&#x7248; 11122019</span>
            <span class="token comment"># foundApp = re.search(&quot;(?P&lt;bundleId&gt;[\w\.]+)\s+-\s+(?P&lt;name&gt;\S+)\s+(?P&lt;version&gt;[\d\.]+)&quot;, eachAppStr)</span>
            <span class="token comment"># &apos;com.kingsoft.www.office.wpsoffice - WPS Office 10.11.076659&apos;</span>
            foundApp <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">&quot;(?P&lt;bundleId&gt;[\w\.]+)\s+-\s+(?P&lt;name&gt;[\S ]+)\s+(?P&lt;version&gt;[\d\.]+)&quot;</span><span class="token punctuation">,</span> eachAppStr<span class="token punctuation">)</span>
            <span class="token keyword">if</span> foundApp<span class="token punctuation">:</span>
                bundleId <span class="token operator">=</span> foundApp<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">&quot;bundleId&quot;</span><span class="token punctuation">)</span> <span class="token comment"># &apos;com.dianping.dpscope&apos;</span>
                name <span class="token operator">=</span> foundApp<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token comment"># &apos;&#x5927;&#x4F17;&#x70B9;&#x8BC4;&apos;</span>
                version <span class="token operator">=</span> foundApp<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token string">&quot;version&quot;</span><span class="token punctuation">)</span> <span class="token comment"># &apos;10.27.10.21&apos;</span>
                curAppInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token string">&quot;bundleId&quot;</span><span class="token punctuation">:</span> bundleId<span class="token punctuation">,</span>
                    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> name<span class="token punctuation">,</span>
                    <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> version<span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
                installedAppList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>curAppInfo<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># Total: 9 apps</span>
                <span class="token keyword">if</span> eachAppStr <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token keyword">not</span> eachAppStr<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;Total:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&quot;not match installed app item: %s&quot;</span><span class="token punctuation">,</span> eachAppStr<span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;installedAppList=%s&quot;</span><span class="token punctuation">,</span> installedAppList<span class="token punctuation">)</span>
    <span class="token keyword">return</span> installedAppList
</code></pre>
<h3 id="switchtoappstoresearchtab-&#x5207;&#x6362;&#x5230;appstore&#x7684;search&#x7684;tab&#x9875;"><a name="switchtoappstoresearchtab-&#x5207;&#x6362;&#x5230;appstore&#x7684;search&#x7684;tab&#x9875;" class="plugin-anchor" href="#switchtoappstoresearchtab-&#x5207;&#x6362;&#x5230;appstore&#x7684;search&#x7684;tab&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>switchToAppStoreSearchTab &#x5207;&#x6362;&#x5230;AppStore&#x7684;Search&#x7684;tab&#x9875;</h3>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">switchToAppStoreSearchTab</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;try find and click to switch to AppStore search tab&quot;&quot;&quot;</span>
    isSwitchOk <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x5E95;&#x90E8;tab&#xFF1A;
            &lt;XCUIElementTypeTabBar type=&quot;XCUIElementTypeTabBar&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;687&quot; width=&quot;414&quot; height=&quot;49&quot;&gt;
                &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;Today&quot; label=&quot;Today&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;2&quot; y=&quot;688&quot; width=&quot;80&quot; height=&quot;48&quot;/&gt;
                &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x6E38;&#x620F;&quot; label=&quot;&#x6E38;&#x620F;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;85&quot; y=&quot;688&quot; width=&quot;80&quot; height=&quot;48&quot;/&gt;
                &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;App&quot; label=&quot;App&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;168&quot; y=&quot;688&quot; width=&quot;78&quot; height=&quot;48&quot;/&gt;
                &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x65B0;&quot; label=&quot;&#x66F4;&#x65B0;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;249&quot; y=&quot;688&quot; width=&quot;80&quot; height=&quot;48&quot;/&gt;
                &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; value=&quot;1&quot; name=&quot;&#x641C;&#x7D22;&quot; label=&quot;&#x641C;&#x7D22;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;332&quot; y=&quot;688&quot; width=&quot;80&quot; height=&quot;48&quot;/&gt;
            &lt;/XCUIElementTypeTabBar&gt;
    &quot;&quot;&quot;</span>
    parentTabBarClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeTabBar[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    searchButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x641C;&#x7D22;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;label&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x641C;&#x7D22;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    searchButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentTabBarClassChain <span class="token punctuation">]</span>
    foundAndClicked <span class="token operator">=</span> self<span class="token punctuation">.</span>findAndClickElement<span class="token punctuation">(</span>query<span class="token operator">=</span>searchButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">)</span>
    isSwitchOk <span class="token operator">=</span> foundAndClicked
    <span class="token keyword">return</span> isSwitchOk
</code></pre>
<h3 id="waitelementsettextios-&#x7ED9;&#x5143;&#x7D20;&#x8F93;&#x5165;&#x503C;&#x5E76;&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;"><a name="waitelementsettextios-&#x7ED9;&#x5143;&#x7D20;&#x8F93;&#x5165;&#x503C;&#x5E76;&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;" class="plugin-anchor" href="#waitelementsettextios-&#x7ED9;&#x5143;&#x7D20;&#x8F93;&#x5165;&#x503C;&#x5E76;&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;"><i class="fa fa-link" aria-hidden="true"></i></a>wait_element_setText_iOS &#x7ED9;&#x5143;&#x7D20;&#x8F93;&#x5165;&#x503C;&#x5E76;&#x7B49;&#x5F85;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;</h3>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">wait_element_setText_iOS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> query<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
    isInputOk <span class="token operator">=</span> <span class="token boolean">False</span>
    isFound<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>findElement<span class="token punctuation">(</span>query<span class="token operator">=</span>query<span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">&quot;isFound=%s, respInfo=%s&quot;</span><span class="token punctuation">,</span> isFound<span class="token punctuation">,</span> respInfo<span class="token punctuation">)</span>
    <span class="token keyword">if</span> isFound<span class="token punctuation">:</span>
        searchAccountElement <span class="token operator">=</span> respInfo
        searchAccountElement<span class="token punctuation">.</span>set_text<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;has input text: %s&quot;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>
        isInputOk <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> isInputOk
</code></pre>
<h2 id="searchios-ios&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x51FA;&#x952E;&#x76D8;&#x4E2D;&#x7684;search&#x89E6;&#x53D1;&#x641C;&#x7D22;"><a name="searchios-ios&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x51FA;&#x952E;&#x76D8;&#x4E2D;&#x7684;search&#x89E6;&#x53D1;&#x641C;&#x7D22;" class="plugin-anchor" href="#searchios-ios&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x51FA;&#x952E;&#x76D8;&#x4E2D;&#x7684;search&#x89E6;&#x53D1;&#x641C;&#x7D22;"><i class="fa fa-link" aria-hidden="true"></i></a>search_iOS iOS&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x51FA;&#x952E;&#x76D8;&#x4E2D;&#x7684;Search&#x89E6;&#x53D1;&#x641C;&#x7D22;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">search_iOS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> wait<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># &#x89E6;&#x53D1;&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x6309;&#x94AE;</span>
    foundAndClickedDoSearch <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token comment"># &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;Search&quot; label=&quot;Search&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;281&quot; y=&quot;620&quot; width=&quot;94&quot; height=&quot;47&quot;/&gt;</span>
    <span class="token comment"># &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;Search&quot; label=&quot;&#x641C;&#x7D22;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;309&quot; y=&quot;685&quot; width=&quot;103&quot; height=&quot;50&quot;/&gt;</span>
    <span class="token comment"># searchButtonQuery = {&quot;name&quot;: &quot;Search&quot;}</span>
    searchButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Search&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">}</span>
    <span class="token comment"># Note: occasionally not found Search, change to find multiple time to avoid this kind of case</span>
    MaxRetryNumber <span class="token operator">=</span> <span class="token number">5</span>
    curRetryNumber <span class="token operator">=</span> MaxRetryNumber
    <span class="token keyword">while</span> curRetryNumber <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        foundAndClickedDoSearch <span class="token operator">=</span> self<span class="token punctuation">.</span>findAndClickElement<span class="token punctuation">(</span>searchButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span>wait<span class="token punctuation">)</span>
        <span class="token keyword">if</span> foundAndClickedDoSearch<span class="token punctuation">:</span>
            <span class="token keyword">break</span>

        curRetryNumber <span class="token operator">-=</span> <span class="token number">1</span>

    <span class="token keyword">if</span> <span class="token keyword">not</span> foundAndClickedDoSearch<span class="token punctuation">:</span>
        logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">&quot;Not found and/or clicked for %s&quot;</span><span class="token punctuation">,</span> searchButtonQuery<span class="token punctuation">)</span>
    <span class="token keyword">return</span> foundAndClickedDoSearch
</code></pre>
<h2 id="appstoresearchresultintodetail-appstore&#x4ECE;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x4E2D;&#x8FDB;&#x53BB;&#x8BE6;&#x60C5;&#x9875;"><a name="appstoresearchresultintodetail-appstore&#x4ECE;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x4E2D;&#x8FDB;&#x53BB;&#x8BE6;&#x60C5;&#x9875;" class="plugin-anchor" href="#appstoresearchresultintodetail-appstore&#x4ECE;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x4E2D;&#x8FDB;&#x53BB;&#x8BE6;&#x60C5;&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreSearchResultIntoDetail AppStore&#x4ECE;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x4E2D;&#x8FDB;&#x53BB;&#x8BE6;&#x60C5;&#x9875;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreSearchResultIntoDetail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> appName<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;for AppStore search result list page
        try find first match result
            then click into detail page

    Args:
        appName (str): app name
    Returns:
        bool, dict
            bool: is into detail page or not
    Raises:
    &quot;&quot;&quot;</span>
    isIntoDetailOk <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        &#x641C;&#x7D22;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x9875; &#x4EAC;&#x4E1C; &#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#xFF1A;
            &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                    &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                        &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; name=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;, &#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;, &#x56DB;&#x9897;&#x534A;&#x661F;, 34.6&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; label=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;, &#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;, &#x56DB;&#x9897;&#x534A;&#x661F;, 34.6&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;86&quot; width=&quot;374&quot; height=&quot;295&quot;&gt;
                            &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&quot; label=&quot;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;364&quot; y=&quot;86&quot; width=&quot;30&quot; height=&quot;68&quot;/&gt;
                        &lt;/XCUIElementTypeCell&gt;
                        &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; name=&quot;&#x4EAC;&#x4E1C;&#x91D1;&#x878D;-&#x8D85;&#x8FC7;&#x4E09;&#x4EBF;&#x4EBA;&#x5728;&#x7528;, &#x4EAB;24&#x671F;&#x514D;&#x606F;&#xFF0C;&#x8D5A;20&#x4EBF;&#x91D1;&#x8D34;, &#x56DB;&#x9897;&#x534A;&#x661F;, 20.8&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; label=&quot;&#x4EAC;&#x4E1C;&#x91D1;&#x878D;-&#x8D85;&#x8FC7;&#x4E09;&#x4EBF;&#x4EBA;&#x5728;&#x7528;, &#x4EAB;24&#x671F;&#x514D;&#x606F;&#xFF0C;&#x8D5A;20&#x4EBF;&#x91D1;&#x8D34;, &#x56DB;&#x9897;&#x534A;&#x661F;, 20.8&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;420&quot; width=&quot;374&quot; height=&quot;295&quot;&gt;
                            &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x6253;&#x5F00;&quot; label=&quot;&#x6253;&#x5F00;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;320&quot; y=&quot;420&quot; width=&quot;74&quot; height=&quot;69&quot;/&gt;
                        &lt;/XCUIElementTypeCell&gt;
                    &lt;/XCUIElementTypeCollectionView&gt;
                &lt;/XCUIElementTypeOther&gt;
            &lt;/XCUIElementTypeOther&gt;

        &#x641C;&#x7D22;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x9875; &#x7F8E;&#x56E2; &#x83B7;&#x53D6;&#xFF1A;
            &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                    &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                        &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; name=&quot;&#x7F8E;&#x56E2;-&#x5403;&#x559D;&#x73A9;&#x4E50; &#x5C3D;&#x5728;&#x7F8E;&#x56E2;, &#x7F8E;&#x98DF;&#x5916;&#x5356;&#x4E70;&#x83DC;&#x4E70;&#x836F;&#x9996;&#x9009;&#x7F8E;&#x56E2;App, &#x56DB;&#x53C8;&#x56DB;&#x5206;&#x4E4B;&#x4E09;&#x9897;&#x661F;, 94.7&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; label=&quot;&#x7F8E;&#x56E2;-&#x5403;&#x559D;&#x73A9;&#x4E50; &#x5C3D;&#x5728;&#x7F8E;&#x56E2;, &#x7F8E;&#x98DF;&#x5916;&#x5356;&#x4E70;&#x83DC;&#x4E70;&#x836F;&#x9996;&#x9009;&#x7F8E;&#x56E2;App, &#x56DB;&#x53C8;&#x56DB;&#x5206;&#x4E4B;&#x4E09;&#x9897;&#x661F;, 94.7&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;86&quot; width=&quot;374&quot; height=&quot;295&quot;&gt;
                            &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x83B7;&#x53D6;&quot; label=&quot;&#x83B7;&#x53D6;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;320&quot; y=&quot;86&quot; width=&quot;74&quot; height=&quot;68&quot;/&gt;
                        &lt;/XCUIElementTypeCell&gt;
                        &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; name=&quot;&#x7F8E;&#x56E2;&#x5916;&#x5356;-&#x5916;&#x5356;&#x8BA2;&#x9910;,&#x9001;&#x5565;&#x90FD;&#x5FEB;, &#x7F8E;&#x98DF;&#x751F;&#x9C9C;,&#x6C34;&#x679C;&#x4E0B;&#x5348;&#x8336;, &#x56DB;&#x53C8;&#x56DB;&#x5206;&#x4E4B;&#x4E09;&#x9897;&#x661F;, 607&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; label=&quot;&#x7F8E;&#x56E2;&#x5916;&#x5356;-&#x5916;&#x5356;&#x8BA2;&#x9910;,&#x9001;&#x5565;&#x90FD;&#x5FEB;, &#x7F8E;&#x98DF;&#x751F;&#x9C9C;,&#x6C34;&#x679C;&#x4E0B;&#x5348;&#x8336;, &#x56DB;&#x53C8;&#x56DB;&#x5206;&#x4E4B;&#x4E09;&#x9897;&#x661F;, 607&#x4E07; &#x4E2A;&#x8BC4;&#x5206;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;420&quot; width=&quot;374&quot; height=&quot;295&quot;&gt;
                            &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x83B7;&#x53D6;&quot; label=&quot;&#x83B7;&#x53D6;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;320&quot; y=&quot;420&quot; width=&quot;74&quot; height=&quot;69&quot;/&gt;
                        &lt;/XCUIElementTypeCell&gt;
                    &lt;/XCUIElementTypeCollectionView&gt;
                &lt;/XCUIElementTypeOther&gt;
            &lt;/XCUIElementTypeOther&gt;
    &quot;&quot;&quot;</span>
    parentCollectionViewClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCollectionView[`rect.x = 0 AND rect.y = 0 AND rect.width = %d AND rect.height = %d`]&quot;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>X<span class="token punctuation">,</span> self<span class="token punctuation">.</span>totalY<span class="token punctuation">)</span>
    firstMatchCellQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeCell&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nameContains&quot;</span><span class="token punctuation">:</span> appName<span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    firstMatchCellQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCollectionViewClassChain <span class="token punctuation">]</span>
    foundAndClicked <span class="token operator">=</span> self<span class="token punctuation">.</span>findAndClickElement<span class="token punctuation">(</span>query<span class="token operator">=</span>firstMatchCellQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">)</span>
    isIntoDetailOk <span class="token operator">=</span> foundAndClicked
    <span class="token keyword">return</span> isIntoDetailOk
</code></pre>
<h2 id="appstoredownloading-appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;"><a name="appstoredownloading-appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;" class="plugin-anchor" href="#appstoredownloading-appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreDownloading AppStore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;</h2>
<pre class="language-"><code class="lang-python"><span class="token comment"># def appStoreDownloadingProgress(self):</span>
<span class="token keyword">def</span> <span class="token function">appStoreDownloading</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Detect app store is downloading some app

    Args:
    Returns:
        bool: true for found is downloading
    Raises:
    &quot;&quot;&quot;</span>
    isDownloading <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token comment"># curProgress = &quot;&quot;</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x4EAC;&#x4E1C; &#x6B63;&#x5728;&#x4E0B;&#x8F7D;&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;-536&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;414&quot; height=&quot;231&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;220&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; label=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;227&quot; width=&quot;216&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; name=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; label=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;232&quot; height=&quot;39&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; name=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; label=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;148&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; value=&quot;18%&quot; name=&quot;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;&quot; label=&quot;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;308&quot; width=&quot;74&quot; height=&quot;30&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;0&quot; height=&quot;0&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;310&quot; width=&quot;28&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; label=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;358&quot; width=&quot;374&quot; height=&quot;50&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
    &quot;&quot;&quot;</span>
    <span class="token comment"># Note: here change wda query to bs.find, then revert back to use wda query</span>
    <span class="token comment"># for later bs.find will need get page source, which too slow, and even sometime crash or failed !</span>

    parentCellClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCell[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    downloadingButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    downloadingButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCellClassChain <span class="token punctuation">]</span>
    isfound<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>findElement<span class="token punctuation">(</span>query<span class="token operator">=</span>downloadingButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token comment"># if isfound:</span>
    <span class="token comment">#     isDownloading = isfound</span>
    <span class="token comment">#     curElement = respInfo</span>
    <span class="token comment">#     curValue = curElement.value # always get null</span>
    <span class="token comment">#     if curValue is not None:</span>
    <span class="token comment">#         curProgress = curValue</span>
    isDownloading <span class="token operator">=</span> isfound

    <span class="token comment"># # Special: above wda query find element, get value, but got null</span>
    <span class="token comment"># # so change to bs find</span>
    <span class="token comment"># curPageXml = self.get_page_source()</span>
    <span class="token comment"># soup = CommonUtils.xmlToSoup(curPageXml)</span>
    <span class="token comment"># isDownloadingChainList = [</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeCollectionView&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: self.FullScreenAttrDict</span>
    <span class="token comment">#     },</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeCell&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;visible&quot;:&quot;true&quot;, &quot;x&quot;:&quot;0&quot;, &quot;width&quot;:&quot;%s&quot; % self.X}</span>
    <span class="token comment">#     },</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeButton&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;visible&quot;:&quot;true&quot;, &quot;name&quot;: &quot;&#x6B63;&#x5728;&#x4E0B;&#x8F7D;&quot;}</span>
    <span class="token comment">#     },</span>
    <span class="token comment"># ]</span>
    <span class="token comment"># isDownloadingSoup = CommonUtils.bsChainFind(soup, isDownloadingChainList)</span>
    <span class="token comment"># if isDownloadingSoup:</span>
    <span class="token comment">#     isDownloading = True</span>
    <span class="token comment">#     soupAttrDict = isDownloadingSoup.attrs</span>
    <span class="token comment">#     curValue = soupAttrDict.get(&quot;value&quot;, &quot;&quot;) # &apos;0%&apos;</span>
    <span class="token comment">#     curProgress = curValue</span>
    <span class="token comment"># return isDownloading, curProgress</span>

    <span class="token keyword">return</span> isDownloading
</code></pre>
<h2 id="appstorecheckopen-&#x68C0;&#x6D4B;appstore&#x662F;&#x5426;&#x662F;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6253;&#x5F00;"><a name="appstorecheckopen-&#x68C0;&#x6D4B;appstore&#x662F;&#x5426;&#x662F;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6253;&#x5F00;" class="plugin-anchor" href="#appstorecheckopen-&#x68C0;&#x6D4B;appstore&#x662F;&#x5426;&#x662F;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6253;&#x5F00;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreCheckOpen &#x68C0;&#x6D4B;AppStore&#x662F;&#x5426;&#x662F;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6253;&#x5F00;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreCheckOpen</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Detect whether app store is downloading compelete then can found &#x6253;&#x5F00;

    Args:
    Returns:
        bool
    Raises:
    &quot;&quot;&quot;</span>
    foundOpen <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x4EAC;&#x4E1C; &#x6253;&#x5F00;&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;-536&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;414&quot; height=&quot;231&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;220&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; label=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;227&quot; width=&quot;216&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; name=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; label=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;232&quot; height=&quot;39&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; name=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; label=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;148&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x6253;&#x5F00;&quot; label=&quot;&#x6253;&#x5F00;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;308&quot; width=&quot;74&quot; height=&quot;30&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;0&quot; height=&quot;0&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;310&quot; width=&quot;28&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; label=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;358&quot; width=&quot;374&quot; height=&quot;50&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
    &quot;&quot;&quot;</span>
    parentCellClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCell[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    openButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x6253;&#x5F00;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    openButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCellClassChain <span class="token punctuation">]</span>
    foundOpen<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>findElement<span class="token punctuation">(</span>query<span class="token operator">=</span>openButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> foundOpen
</code></pre>
<h2 id="appstoreloading-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x8F7D;&#x5165;"><a name="appstoreloading-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x8F7D;&#x5165;" class="plugin-anchor" href="#appstoreloading-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x8F7D;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreLoading &#x68C0;&#x6D4B;AppStore&#x4E2D;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5728;&#x8F7D;&#x5165;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreLoading</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;after click start download button,  check app store is loaidng or not

    Args:
    Returns:
        bool
    Raises:
    &quot;&quot;&quot;</span>
    foundLoading <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x4EAC;&#x4E1C; &#x6B63;&#x5728;&#x8F7D;&#x5165;&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;-536&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;414&quot; height=&quot;231&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;220&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; label=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;227&quot; width=&quot;216&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; name=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; label=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;232&quot; height=&quot;39&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; name=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; label=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;148&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x6B63;&#x5728;&#x8F7D;&#x5165;&quot; label=&quot;&#x6B63;&#x5728;&#x8F7D;&#x5165;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;308&quot; width=&quot;74&quot; height=&quot;30&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;0&quot; height=&quot;0&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;310&quot; width=&quot;28&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; label=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 35.4&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 4, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;358&quot; width=&quot;374&quot; height=&quot;50&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
    &quot;&quot;&quot;</span>
    parentCellClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCell[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    loadingButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x6B63;&#x5728;&#x8F7D;&#x5165;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    loadingButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCellClassChain <span class="token punctuation">]</span>
    foundLoading<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>findElement<span class="token punctuation">(</span>query<span class="token operator">=</span>loadingButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> foundLoading
</code></pre>
<h2 id="appstorestartdownload-&#x627E;&#x5230;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x6216;&#x83B7;&#x53D6;&#x7B49;&#x6309;&#x94AE;&#x5E76;&#x70B9;&#x51FB;&#x5F00;&#x59CB;&#x4E0B;&#x8F7D;"><a name="appstorestartdownload-&#x627E;&#x5230;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x6216;&#x83B7;&#x53D6;&#x7B49;&#x6309;&#x94AE;&#x5E76;&#x70B9;&#x51FB;&#x5F00;&#x59CB;&#x4E0B;&#x8F7D;" class="plugin-anchor" href="#appstorestartdownload-&#x627E;&#x5230;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x6216;&#x83B7;&#x53D6;&#x7B49;&#x6309;&#x94AE;&#x5E76;&#x70B9;&#x51FB;&#x5F00;&#x59CB;&#x4E0B;&#x8F7D;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreStartDownload &#x627E;&#x5230;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x6216;&#x83B7;&#x53D6;&#x7B49;&#x6309;&#x94AE;&#x5E76;&#x70B9;&#x51FB;&#x5F00;&#x59CB;&#x4E0B;&#x8F7D;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreStartDownload</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> isShowErrWhenNotFound<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;being in app detail page inside AppStore
        try find and click download button

    Args:
        isShowErrWhenNotFound (bool): show error log when not found element
    Returns:
        bool, str: 
            boo: found and clicked download button
            str: button name
    Raises:
    &quot;&quot;&quot;</span>
    <span class="token comment"># curPageXml = self.get_page_source()</span>
    <span class="token comment"># soup = CommonUtils.xmlToSoup(curPageXml)</span>
    foundAndClicked <span class="token operator">=</span> <span class="token boolean">False</span>
    downloadButtonName <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x4EAC;&#x4E1C; &#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;-536&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;414&quot; height=&quot;231&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;220&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; name=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; label=&quot;&#x4EAC;&#x4E1C;-&#x4E00;&#x8D77;&#x70ED;&#x7231; &#x5C31;&#x73B0;&#x5728;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;227&quot; width=&quot;216&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; name=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; label=&quot;Beijing Jingdong Century Trading Co., Ltd.&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;232&quot; height=&quot;39&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; name=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; label=&quot;&#x65B0;&#x4EBA;&#x9001;188&#x5143;&#x8D2D;&#x7269;&#x793C;&#x5305;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;148&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&quot; label=&quot;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;308&quot; width=&quot;74&quot; height=&quot;31&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;0&quot; height=&quot;0&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;310&quot; width=&quot;28&quot; height=&quot;29&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 34.6&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 5, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; label=&quot;&#x56DB;&#x9897;&#x534A;&#x661F;, 34.6&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 5, &#x8D2D;&#x7269;, 17+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;358&quot; width=&quot;374&quot; height=&quot;51&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x65B0;&#x529F;&#x80FD;&quot; label=&quot;&#x65B0;&#x529F;&#x80FD;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;430&quot; width=&quot;414&quot; height=&quot;49&quot;&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x7248;&#x672C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&quot; label=&quot;&#x7248;&#x672C;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;290&quot; y=&quot;439&quot; width=&quot;104&quot; height=&quot;34&quot;/&gt;
                &lt;/XCUIElementTypeOther&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; name=&quot;&#x7248;&#x672C; 9.0.0, 1 &#x5468;&#x524D;, &#x4EAC;&#x4E1C;9.0&#xFF0C;&#x5168;&#x65B0;&#x542F;&#x822A; &#x4E0D;&#x8D1F;&#x6BCF;&#x4E00;&#x4EFD;&#x70ED;&#x7231;&#xFF01;618 &#x60CA;&#x559C;&#x5267;&#x900F; &#x706B;&#x529B;&#x5168;&#x5F00;&#xFF01; 5.29 &#x8D85;&#x55E8;&#x9884;&#x552E;&#x62A2;&#x5148;&#x8D2D; &#x5B9A;&#x91D1;&#x81A8;&#x80C0;&#x4E0D;&#x6B62;5&#x500D; &#x5FA1;&#x517D;&#x522E;&#x522E;&#x4E50;&#x89E3;&#x9501;&#x5343;&#x4E07;&#x7EA2;&#x5305; 5.30 &#x8D85;&#x7701;&#x767E;&#x4EBF;&#x6D88;&#x8D39;&#x5238; 0.99&#x5143;&#x4EAB;&#x8D85;&#x503C;&#x5238;&#x5305; 5.31&#x8D85;&#x71C3;&#x5927;&#x52BF;&#x65B0;&#x54C1;&#x8D4F; &#x5927;&#x724C;&#x65B0;&#x54C1;1&#x5143;&#x62A2; 6.1 &#x5F00;&#x95E8;&#x7EA2; &#x72C2;&#x6492;&#x8D85;&#x7EA7;&#x767E;&#x4EBF;&#x8865;&#x8D34; 6.2 &#x5927;&#x724C;&#x7206;&#x54C1;&#x5168;&#x805A;&#x60E0; &#x6781;&#x81F4;&#x6027;&#x4EF7;&#x6BD4;&#x66F4;&#x6709;24&#x671F;&#x514D;&#x606F; 6.5 &#x4EAC;&#x4E1C;&#x8D85;&#x7EA7;&#x54C1;&#x724C;&#x65E5; &#x5168;&#x7403;&#x597D;&#x7269; &#x8D85;&#x7EA7;&#x76DB;&#x5178; 6.8 PLUS DAY Plus&#x4F1A;&#x5458;&#x8D2D;&#x7269;&#x9650;&#x65F6;&#x8FD4;20&#x500D;&#x4EAC;&#x8C46; 5.31-6.15 &#x6765;&#x4EAC;&#x4E1C; &#x770B;&#x7231;&#x8C46; &#x9009;&#x5927;&#x724C; &#x74DC;&#x5206;3&#x4EBF;&#x4EAC;&#x8C46; 6.1-6.18 &#x72C2;&#x6B22;&#x55E8;&#x6F6E; &#x798F;&#x5229;&#x9A7E;&#x5230; &#x5168;&#x54C1;&#x7C7B;&#x63A5;&#x529B;&#x5E86;&#x751F;&#x949C;&#x60E0; &#x5404;&#x54C1;&#x724C;&#x643A;&#x624B;&#x611F;&#x6069;&#x56DE;&#x9988; &#x4EAC;&#x4E1C;618&#x5341;&#x4E03;&#x5468;&#x5E74;&#x5E86; &#x4E00;&#x8D77;&#x70ED;&#x7231;&#x5C31;&#x73B0;&#x5728;&#xFF01;&#x611F;&#x6069;&#x6709;&#x4F60;    &#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A; &#x3010;&#x5168;&#x65B0;&#x9996;&#x9875;&#x3011;&#x9996;&#x9875;&#x98CE;&#x683C;&#x7115;&#x7136;&#x4E00;&#x65B0;&#xFF0C;&#x66F4;&#x7075;&#x52A8;&#xFF0C;&#x66F4;&#x8F7B;&#x677E; &#x3010;&#x5BB6;&#x5EAD;&#x53F7;&#x3011;&#x5BB6;&#x4EBA;&#x8D2D;&#x7269;&#xFF0C;&#x8D34;&#x5FC3;&#x4EE3;&#x4ED8;&#xFF0C;&#x4E13;&#x4EAB;&#x5BB6;&#x5EAD;&#x6743;&#x76CA; &#x3010;&#x6781;&#x901F;&#x5230;&#x5BB6;&#x3011;&#x4E70;&#x6C34;&#x4E70;&#x836F;&#xFF0C;&#x5546;&#x8D85;&#x4FBF;&#x5229;&#xFF0C;&#x534A;&#x5C0F;&#x65F6;&#x8FBE; &#x3010;&#x6392;&#x884C;&#x699C;&#x3011;&#x7206;&#x6B3E;&#x5355;&#x54C1;&#xFF0C;&#x6F6E;&#x7269;&#x63A8;&#x8350;&#xFF0C;&#x8DDF;&#x699C;&#x8D2D;&#x597D;&#x7269; &#x3010;&#x5230;&#x624B;&#x597D;&#x4EF7;&#x3011;&#x6298;&#x6263;&#x4FC3;&#x9500;&#xFF0C;&#x6781;&#x901F;&#x652F;&#x4ED8;&#xFF0C;&#x8F7B;&#x677E;&#x4EAB;&#x597D;&#x4EF7; &#x3010;&#x82B1;&#x6837;&#x6652;&#x5355;&#x3011;&#x4E3B;&#x9898;&#x6652;&#x5355;&#xFF0C;&#x4E92;&#x52A8;&#x73A9;&#x6CD5;&#xFF0C;&#x4E0D;&#x6B62;&#x662F;&#x8D2D;&#x7269;&quot; label=&quot;&#x7248;&#x672C; 9.0.0, 1 &#x5468;&#x524D;, &#x4EAC;&#x4E1C;9.0&#xFF0C;&#x5168;&#x65B0;&#x542F;&#x822A; &#x4E0D;&#x8D1F;&#x6BCF;&#x4E00;&#x4EFD;&#x70ED;&#x7231;&#xFF01;618 &#x60CA;&#x559C;&#x5267;&#x900F; &#x706B;&#x529B;&#x5168;&#x5F00;&#xFF01; 5.29 &#x8D85;&#x55E8;&#x9884;&#x552E;&#x62A2;&#x5148;&#x8D2D; &#x5B9A;&#x91D1;&#x81A8;&#x80C0;&#x4E0D;&#x6B62;5&#x500D; &#x5FA1;&#x517D;&#x522E;&#x522E;&#x4E50;&#x89E3;&#x9501;&#x5343;&#x4E07;&#x7EA2;&#x5305; 5.30 &#x8D85;&#x7701;&#x767E;&#x4EBF;&#x6D88;&#x8D39;&#x5238; 0.99&#x5143;&#x4EAB;&#x8D85;&#x503C;&#x5238;&#x5305; 5.31&#x8D85;&#x71C3;&#x5927;&#x52BF;&#x65B0;&#x54C1;&#x8D4F; &#x5927;&#x724C;&#x65B0;&#x54C1;1&#x5143;&#x62A2; 6.1 &#x5F00;&#x95E8;&#x7EA2; &#x72C2;&#x6492;&#x8D85;&#x7EA7;&#x767E;&#x4EBF;&#x8865;&#x8D34; 6.2 &#x5927;&#x724C;&#x7206;&#x54C1;&#x5168;&#x805A;&#x60E0; &#x6781;&#x81F4;&#x6027;&#x4EF7;&#x6BD4;&#x66F4;&#x6709;24&#x671F;&#x514D;&#x606F; 6.5 &#x4EAC;&#x4E1C;&#x8D85;&#x7EA7;&#x54C1;&#x724C;&#x65E5; &#x5168;&#x7403;&#x597D;&#x7269; &#x8D85;&#x7EA7;&#x76DB;&#x5178; 6.8 PLUS DAY Plus&#x4F1A;&#x5458;&#x8D2D;&#x7269;&#x9650;&#x65F6;&#x8FD4;20&#x500D;&#x4EAC;&#x8C46; 5.31-6.15 &#x6765;&#x4EAC;&#x4E1C; &#x770B;&#x7231;&#x8C46; &#x9009;&#x5927;&#x724C; &#x74DC;&#x5206;3&#x4EBF;&#x4EAC;&#x8C46; 6.1-6.18 &#x72C2;&#x6B22;&#x55E8;&#x6F6E; &#x798F;&#x5229;&#x9A7E;&#x5230; &#x5168;&#x54C1;&#x7C7B;&#x63A5;&#x529B;&#x5E86;&#x751F;&#x949C;&#x60E0; &#x5404;&#x54C1;&#x724C;&#x643A;&#x624B;&#x611F;&#x6069;&#x56DE;&#x9988; &#x4EAC;&#x4E1C;618&#x5341;&#x4E03;&#x5468;&#x5E74;&#x5E86; &#x4E00;&#x8D77;&#x70ED;&#x7231;&#x5C31;&#x73B0;&#x5728;&#xFF01;&#x611F;&#x6069;&#x6709;&#x4F60;    &#x6700;&#x8FD1;&#x66F4;&#x65B0;&#xFF1A; &#x3010;&#x5168;&#x65B0;&#x9996;&#x9875;&#x3011;&#x9996;&#x9875;&#x98CE;&#x683C;&#x7115;&#x7136;&#x4E00;&#x65B0;&#xFF0C;&#x66F4;&#x7075;&#x52A8;&#xFF0C;&#x66F4;&#x8F7B;&#x677E; &#x3010;&#x5BB6;&#x5EAD;&#x53F7;&#x3011;&#x5BB6;&#x4EBA;&#x8D2D;&#x7269;&#xFF0C;&#x8D34;&#x5FC3;&#x4EE3;&#x4ED8;&#xFF0C;&#x4E13;&#x4EAB;&#x5BB6;&#x5EAD;&#x6743;&#x76CA; &#x3010;&#x6781;&#x901F;&#x5230;&#x5BB6;&#x3011;&#x4E70;&#x6C34;&#x4E70;&#x836F;&#xFF0C;&#x5546;&#x8D85;&#x4FBF;&#x5229;&#xFF0C;&#x534A;&#x5C0F;&#x65F6;&#x8FBE; &#x3010;&#x6392;&#x884C;&#x699C;&#x3011;&#x7206;&#x6B3E;&#x5355;&#x54C1;&#xFF0C;&#x6F6E;&#x7269;&#x63A8;&#x8350;&#xFF0C;&#x8DDF;&#x699C;&#x8D2D;&#x597D;&#x7269; &#x3010;&#x5230;&#x624B;&#x597D;&#x4EF7;&#x3011;&#x6298;&#x6263;&#x4FC3;&#x9500;&#xFF0C;&#x6781;&#x901F;&#x652F;&#x4ED8;&#xFF0C;&#x8F7B;&#x677E;&#x4EAB;&#x597D;&#x4EF7; &#x3010;&#x82B1;&#x6837;&#x6652;&#x5355;&#x3011;&#x4E3B;&#x9898;&#x6652;&#x5355;&#xFF0C;&#x4E92;&#x52A8;&#x73A9;&#x6CD5;&#xFF0C;&#x4E0D;&#x6B62;&#x662F;&#x8D2D;&#x7269;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;478&quot; width=&quot;374&quot; height=&quot;104&quot;/&gt;

        AppStore &#x8BE6;&#x60C5;&#x9875; &#x9489;&#x9489; &#x83B7;&#x53D6;&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;-536&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;414&quot; height=&quot;231&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x9489;&#x9489;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;220&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x9489;&#x9489;&quot; name=&quot;&#x9489;&#x9489;&quot; label=&quot;&#x9489;&#x9489;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;227&quot; width=&quot;45&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;DingTalk (China) Information Technology Co., Ltd.&quot; name=&quot;DingTalk (China) Information Technology Co., Ltd.&quot; label=&quot;DingTalk (China) Information Technology Co., Ltd.&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;199&quot; height=&quot;39&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x65D7;&#x4E0B;&#x79FB;&#x52A8;&#x529E;&#x516C;&#x5E73;&#x53F0;&quot; name=&quot;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x65D7;&#x4E0B;&#x79FB;&#x52A8;&#x529E;&#x516C;&#x5E73;&#x53F0;&quot; label=&quot;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x65D7;&#x4E0B;&#x79FB;&#x52A8;&#x529E;&#x516C;&#x5E73;&#x53F0;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;257&quot; width=&quot;184&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x83B7;&#x53D6;&quot; label=&quot;&#x83B7;&#x53D6;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;308&quot; width=&quot;74&quot; height=&quot;31&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;200&quot; width=&quot;0&quot; height=&quot;0&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;310&quot; width=&quot;28&quot; height=&quot;29&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x4E24;&#x9897;&#x534A;&#x661F;, 213&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 2, &#x5546;&#x52A1;, 4+, &#x5E74;&#x9F84;&quot; label=&quot;&#x4E24;&#x9897;&#x534A;&#x661F;, 213&#x4E07;&#x4E2A;&#x8BC4;&#x5206;, 2, &#x5546;&#x52A1;, 4+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;358&quot; width=&quot;374&quot; height=&quot;51&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
    &quot;&quot;&quot;</span>
    <span class="token comment"># downloadP = re.compile(&quot;(&#x83B7;&#x53D6;)|(&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;)&quot;)</span>
    <span class="token comment"># downloadChainList = [</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeCollectionView&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: self.FullScreenAttrDict</span>
    <span class="token comment">#     },</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeCell&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;visible&quot;:&quot;true&quot;, &quot;x&quot;:&quot;0&quot;, &quot;width&quot;:&quot;%s&quot; % self.X}</span>
    <span class="token comment">#     },</span>
    <span class="token comment">#     {</span>
    <span class="token comment">#         &quot;tag&quot;: &quot;XCUIElementTypeButton&quot;,</span>
    <span class="token comment">#         &quot;attrs&quot;: {&quot;enabled&quot;:&quot;true&quot;, &quot;visible&quot;:&quot;true&quot;, &quot;name&quot;: downloadP}</span>
    <span class="token comment">#     },</span>
    <span class="token comment"># ]</span>
    <span class="token comment"># downloadSoup = CommonUtils.bsChainFind(soup, downloadChainList)</span>
    <span class="token comment"># if downloadSoup:</span>
    <span class="token comment">#     self.clickElementCenterPosition(downloadSoup)</span>
    <span class="token comment">#     foundAndClickedDownload = True</span>
    <span class="token comment"># return foundAndClickedDownload</span>

    <span class="token comment"># Note: to avoid possible later get page slow or even fail</span>
    <span class="token comment"># change to wda query</span>
    parentCellClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCell[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    downloadButtonNameList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;&#x83B7;&#x53D6;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&quot;</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> eachDownloadButtonName <span class="token keyword">in</span> downloadButtonNameList<span class="token punctuation">:</span>
        curDownloadButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> eachDownloadButtonName<span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
        curDownloadButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCellClassChain <span class="token punctuation">]</span>
        foundAndClicked <span class="token operator">=</span> self<span class="token punctuation">.</span>findAndClickElement<span class="token punctuation">(</span>query<span class="token operator">=</span>curDownloadButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> isShowErrLog<span class="token operator">=</span>isShowErrWhenNotFound<span class="token punctuation">)</span>
        <span class="token keyword">if</span> foundAndClicked<span class="token punctuation">:</span>
            downloadButtonName <span class="token operator">=</span> eachDownloadButtonName
            <span class="token keyword">break</span>
    <span class="token keyword">return</span> foundAndClicked<span class="token punctuation">,</span> downloadButtonName
</code></pre>
<h2 id="appstorebuyappmoneybutton-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x6709;&#xFFE5;&#x91D1;&#x989D;&#xFF0C;&#x8868;&#x793A;&#x662F;&#x6536;&#x8D39;&#x5E94;&#x7528;"><a name="appstorebuyappmoneybutton-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x6709;&#xFFE5;&#x91D1;&#x989D;&#xFF0C;&#x8868;&#x793A;&#x662F;&#x6536;&#x8D39;&#x5E94;&#x7528;" class="plugin-anchor" href="#appstorebuyappmoneybutton-&#x68C0;&#x6D4B;appstore&#x4E2D;&#x662F;&#x5426;&#x6709;&#xFFE5;&#x91D1;&#x989D;&#xFF0C;&#x8868;&#x793A;&#x662F;&#x6536;&#x8D39;&#x5E94;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreBuyAppMoneyButton &#x68C0;&#x6D4B;AppStore&#x4E2D;&#x662F;&#x5426;&#x6709;&#xFFE5;&#x91D1;&#x989D;&#xFF0C;&#x8868;&#x793A;&#x662F;&#x6536;&#x8D39;&#x5E94;&#x7528;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreBuyAppMoneyButton</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;being in app detail page inside AppStore
        try find buy app button which has money text like &#xFFE5;1.00

    Args:
    Returns:
        bool, str: 
            boo: found and clicked download button
            str: button name
    Raises:
    &quot;&quot;&quot;</span>
    foundMoneyButton <span class="token operator">=</span> <span class="token boolean">False</span>
    moneyButtonName <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x4E0D;&#x6298;&#x53E0;&#x8F93;&#x5165;&#x6CD5; &#x5E26;&#x91D1;&#x989D;&#x7684;&#x8D2D;&#x4E70;&#x6309;&#x94AE; &#xA5;1.00&#xFF1A;
            &lt;XCUIElementTypeCollectionView type=&quot;XCUIElementTypeCollectionView&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;414&quot; height=&quot;736&quot;&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;0&quot; y=&quot;-672&quot; width=&quot;414&quot; height=&quot;736&quot;/&gt;
                &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;64&quot; width=&quot;414&quot; height=&quot;211&quot;&gt;
                    &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; value=&quot;&#x4E0D;&#x6298;&#x53E0;&#x8F93;&#x5165;&#x6CD5;&quot; name=&quot;&#x63D2;&#x56FE;&quot; label=&quot;&#x63D2;&#x56FE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;64&quot; width=&quot;118&quot; height=&quot;118&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x4E0D;&#x6298;&#x53E0;&#x8F93;&#x5165;&#x6CD5;&quot; name=&quot;&#x4E0D;&#x6298;&#x53E0;&#x8F93;&#x5165;&#x6CD5;&quot; label=&quot;&#x4E0D;&#x6298;&#x53E0;&#x8F93;&#x5165;&#x6CD5;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;71&quot; width=&quot;134&quot; height=&quot;27&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;JUNJIE HUANG&quot; name=&quot;JUNJIE HUANG&quot; label=&quot;JUNJIE HUANG&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;154&quot; y=&quot;101&quot; width=&quot;108&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x65B0;&#x7248;&#x53D1;&#x6587;&#x4E0D;&#x518D;&#x4E00;&#x884C;&#x7684;&#x5C0F;&#x952E;&#x76D8;&quot; name=&quot;&#x65B0;&#x7248;&#x53D1;&#x6587;&#x4E0D;&#x518D;&#x4E00;&#x884C;&#x7684;&#x5C0F;&#x952E;&#x76D8;&quot; label=&quot;&#x65B0;&#x7248;&#x53D1;&#x6587;&#x4E0D;&#x518D;&#x4E00;&#x884C;&#x7684;&#x5C0F;&#x952E;&#x76D8;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;101&quot; width=&quot;184&quot; height=&quot;19&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#xA5;1.00&quot; label=&quot;&#xA5;1.00&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;154&quot; y=&quot;152&quot; width=&quot;74&quot; height=&quot;30&quot;/&gt;
                    &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;App &#x5185;&#x8D2D;&#x4E70;&#x9879;&#x76EE;&quot; name=&quot;App &#x5185;&#x8D2D;&#x4E70;&#x9879;&#x76EE;&quot; label=&quot;App &#x5185;&#x8D2D;&#x4E70;&#x9879;&#x76EE;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;234&quot; y=&quot;152&quot; width=&quot;62&quot; height=&quot;30&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x66F4;&#x591A;&quot; label=&quot;&#x66F4;&#x591A;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;366&quot; y=&quot;154&quot; width=&quot;28&quot; height=&quot;28&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; name=&quot;&#x4E09;&#x9897;&#x661F;, 793&#x4E2A;&#x8BC4;&#x5206;, 3, &#x5DE5;&#x5177;, 4+, &#x5E74;&#x9F84;&quot; label=&quot;&#x4E09;&#x9897;&#x661F;, 793&#x4E2A;&#x8BC4;&#x5206;, 3, &#x5DE5;&#x5177;, 4+, &#x5E74;&#x9F84;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;20&quot; y=&quot;202&quot; width=&quot;374&quot; height=&quot;50&quot;/&gt;
                &lt;/XCUIElementTypeCell&gt;
    &quot;&quot;&quot;</span>
    parentCellClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeCell[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    moneyButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;nameContains&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#xA5;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    moneyButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentCellClassChain <span class="token punctuation">]</span>
    foundMoneyButton<span class="token punctuation">,</span> respInfo <span class="token operator">=</span> self<span class="token punctuation">.</span>findElement<span class="token punctuation">(</span>query<span class="token operator">=</span>moneyButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> foundMoneyButton<span class="token punctuation">:</span>
        curElement <span class="token operator">=</span> respInfo
        <span class="token comment"># internally use first non-empty of element.wdValue, element.wdLabel, not expected meaning</span>
        <span class="token comment"># curName = curElement.text</span>
        <span class="token comment"># so change to name, Note: has changed facebook-wad get name from self._prop(&apos;name&apos;) to self._prop(&apos;attribute/name&apos;)</span>
        curName <span class="token operator">=</span> curElement<span class="token punctuation">.</span>name
        <span class="token keyword">if</span> curName <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            moneyButtonName <span class="token operator">=</span> curName
    <span class="token keyword">return</span> foundMoneyButton<span class="token punctuation">,</span> moneyButtonName
</code></pre>
<h2 id="appstoreclickpopupinstall-appstore&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x6846;&#x5F00;&#x59CB;&#x5B89;&#x88C5;"><a name="appstoreclickpopupinstall-appstore&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x6846;&#x5F00;&#x59CB;&#x5B89;&#x88C5;" class="plugin-anchor" href="#appstoreclickpopupinstall-appstore&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x6846;&#x5F00;&#x59CB;&#x5B89;&#x88C5;"><i class="fa fa-link" aria-hidden="true"></i></a>appStoreClickPopupInstall AppStore&#x4E2D;&#x70B9;&#x51FB;&#x5F39;&#x6846;&#x5F00;&#x59CB;&#x5B89;&#x88C5;</h2>
<pre class="language-"><code class="lang-python"><span class="token keyword">def</span> <span class="token function">appStoreClickPopupInstall</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;after click start download button, try find popup install window then click install

    Args:
    Returns:
        bool
    Raises:
    &quot;&quot;&quot;</span>

    <span class="token triple-quoted-string string">&quot;&quot;&quot;
        AppStore &#x8BE6;&#x60C5;&#x9875; &#x6DD8;&#x5B9D; &#x5F39;&#x6846; &#x5B89;&#x88C5;&#xFF1A;
            &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;515&quot; width=&quot;414&quot; height=&quot;221&quot;&gt;
                &lt;XCUIElementTypeTable type=&quot;XCUIElementTypeTable&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;515&quot; width=&quot;414&quot; height=&quot;120&quot;&gt;
                    &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;515&quot; width=&quot;414&quot; height=&quot;77&quot;&gt;
                        &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;16&quot; y=&quot;590&quot; width=&quot;398&quot; height=&quot;1&quot;/&gt;
                        &lt;XCUIElementTypeImage type=&quot;XCUIElementTypeImage&quot; enabled=&quot;true&quot; visible=&quot;false&quot; x=&quot;55&quot; y=&quot;533&quot; width=&quot;40&quot; height=&quot;41&quot;/&gt;
                        &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x624B;&#x673A;&#x6DD8;&#x5B9D; - &#x6DD8;&#x5230;&#x4F60;&#x8BF4;&#x597D; &#xFFFC; TAOBAO (CHINA) SOFTWARE CO.,LTD APP&quot; name=&quot;&#x624B;&#x673A;&#x6DD8;&#x5B9D; - &#x6DD8;&#x5230;&#x4F60;&#x8BF4;&#x597D; &#xFFFC; TAOBAO (CHINA) SOFTWARE CO.,LTD APP&quot; label=&quot;&#x624B;&#x673A;&#x6DD8;&#x5B9D; - &#x6DD8;&#x5230;&#x4F60;&#x8BF4;&#x597D; &#xFFFC; TAOBAO (CHINA) SOFTWARE CO.,LTD APP&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;110&quot; y=&quot;530&quot; width=&quot;234&quot; height=&quot;48&quot;/&gt;
                    &lt;/XCUIElementTypeCell&gt;
                    &lt;XCUIElementTypeCell type=&quot;XCUIElementTypeCell&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;591&quot; width=&quot;414&quot; height=&quot;45&quot;&gt;
                        &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;&#x5E10;&#x6237;&quot; name=&quot;&#x5E10;&#x6237;&quot; label=&quot;&#x5E10;&#x6237;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;16&quot; y=&quot;606&quot; width=&quot;79&quot; height=&quot;16&quot;/&gt;
                        &lt;XCUIElementTypeStaticText type=&quot;XCUIElementTypeStaticText&quot; value=&quot;xxx@xxx.com&quot; name=&quot;xxx@xxx.com&quot; label=&quot;xxx@xxx.com&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;111&quot; y=&quot;606&quot; width=&quot;134&quot; height=&quot;16&quot;/&gt;
                    &lt;/XCUIElementTypeCell&gt;
                &lt;/XCUIElementTypeTable&gt;
                &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;635&quot; width=&quot;414&quot; height=&quot;101&quot;&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;16&quot; y=&quot;635&quot; width=&quot;398&quot; height=&quot;1&quot;/&gt;
                    &lt;XCUIElementTypeOther type=&quot;XCUIElementTypeOther&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;0&quot; y=&quot;655&quot; width=&quot;414&quot; height=&quot;69&quot;/&gt;
                    &lt;XCUIElementTypeButton type=&quot;XCUIElementTypeButton&quot; name=&quot;&#x5B89;&#x88C5;&quot; label=&quot;&#x5B89;&#x88C5;&quot; enabled=&quot;true&quot; visible=&quot;true&quot; x=&quot;165&quot; y=&quot;667&quot; width=&quot;84&quot; height=&quot;37&quot;/&gt;
                &lt;/XCUIElementTypeOther&gt;
            &lt;/XCUIElementTypeOther&gt;
    &quot;&quot;&quot;</span>
    parentOtherClassChain <span class="token operator">=</span> <span class="token string">&quot;/XCUIElementTypeOther[`rect.x = 0 AND rect.width = %d`]&quot;</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>X
    installButtonQuery <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;XCUIElementTypeButton&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&#x5B89;&#x88C5;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;enabled&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">}</span>
    installButtonQuery<span class="token punctuation">[</span><span class="token string">&quot;parent_class_chains&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> parentOtherClassChain <span class="token punctuation">]</span>
    foundAndClickedInstall <span class="token operator">=</span> self<span class="token punctuation">.</span>findAndClickElement<span class="token punctuation">(</span>query<span class="token operator">=</span>installButtonQuery<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> isShowErrLog<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> foundAndClickedInstall
</code></pre>
<footer class="page-footer"><span class="copyright">crifan.com&#xFF0C;&#x4F7F;&#x7528;<a href="https://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank">&#x7F72;&#x540D;4.0&#x56FD;&#x9645;(CC BY 4.0)&#x534F;&#x8BAE;</a>&#x53D1;&#x5E03; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x540E;&#x66F4;&#x65B0;&#xFF1A;
2020-06-21 21:32:10
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: AppStore">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../process_popup.html" class="navigation navigation-next " aria-label="Next page: 弹框处理">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"自动安装app","level":"1.6.4.5.1","depth":4,"next":{"title":"弹框处理","level":"1.6.5","depth":2,"path":"common_code/process_popup.md","ref":"common_code/process_popup.md","articles":[]},"previous":{"title":"AppStore","level":"1.6.4.5","depth":3,"path":"common_code/app/app_store/README.md","ref":"common_code/app/app_store/README.md","articles":[{"title":"自动安装app","level":"1.6.4.5.1","depth":4,"path":"common_code/app/app_store/auto_install_app.md","ref":"common_code/app/app_store/auto_install_app.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["google-adsense","theme-comscore","anchors","-lunr","-search","search-plus","disqus","-highlight","prism","prism-themes","github-buttons","splitter","-sharing","sharing-plus","tbfed-pagefooter","expandable-chapters-small","ga","donate","sitemap-general","copy-code-button","callouts","toolbar-button"],"root":"./src","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"crifan.com，使用<a href='https://creativecommons.org/licenses/by/4.0/deed.zh'>署名4.0国际(CC BY 4.0)协议</a>发布","modify_label":"最后更新：","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prism-themes/themes/prism-atom-dark.css"]},"disqus":{"useIdentifier":false,"shortName":"crifan"},"callouts":{"showTypeInHeader":false},"toolbar-button":{"label":"下载PDF","url":"http://book.crifan.com/books/ios_automation_facebook_wda/pdf/ios_automation_facebook_wda.pdf","icon":"fa-file-pdf-o"},"splitter":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"donate":{"alipay":"https://www.crifan.com/files/res/crifan_com/crifan_alipay_pay.jpg","alipayText":"支付宝打赏给Crifan","button":"打赏","title":"","wechat":"https://www.crifan.com/files/res/crifan_com/crifan_wechat_pay.jpg","wechatText":"微信打赏给Crifan"},"sitemap-general":{"prefix":"https://book.crifan.com/gitbook/ios_automation_facebook_wda/website/"},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-comscore":{},"prism-themes":{},"google-adsense":{"ads":[{"client":"ca-pub-6626240105039250"}]},"github-buttons":{"buttons":[{"repo":"ios_automation_facebook_wda","user":"crifan","type":"star","count":true,"size":"small"},{"user":"crifan","type":"follow","width":"120","count":false,"size":"small"}]},"expandable-chapters-small":{},"copy-code-button":{},"ga":{"configuration":"auto","token":"UA-28297199-1"},"sharing":{"qq":true,"all":["douban","facebook","google","instapaper","line","linkedin","messenger","pocket","qq","qzone","stumbleupon","twitter","viber","vk","weibo","whatsapp"],"douban":false,"facebook":true,"weibo":true,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{},"search-plus":{}},"theme":"default","author":"Crifan Li <admin@crifan.com>","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"iOS自动化测试利器：facebook-wda","language":"zh-hans","links":{"sidebar":{"主页":"http://www.crifan.com"}},"gitbook":"3.2.3","description":"总结iOS自动化主流框架facebook-wda的简介，环境搭建以及常见问题，以及开发的心得，包括用weditor调试界面和元素，尤其是iOS的各种坑，以及常用代码段，包括crifan优化后的wda、元素处理、iOS设备操作、app的各个方面，比如app管理、首次登录引导页、微信的安全模式和微信公众号、设置中的更新WiFi代理、AppStore的自动安装iOS的app、弹框处理、调试辅助代码等，并给出部分源码分析，最后附上文档和参考资料。"},"file":{"path":"common_code/app/app_store/auto_install_app.md","mtime":"2020-06-21T13:32:10.262Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-17T07:45:58.004Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-google-adsense/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-toolbar-button/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

